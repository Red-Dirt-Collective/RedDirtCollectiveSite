(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{152:function(t,e,n){"use strict";var r=n(21),i=n(0),a=n.n(i),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};var u={wrapperComponent:null,contentComponent:null,previousScale:1,scale:1,positionX:0,positionY:0,options:{disabled:!1,transformEnabled:!0,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,limitToWrapper:!1,centerContent:!0,wrapperClass:"",contentClass:""},wheel:{disabled:!1,step:5,wheelEnabled:!0,touchPadEnabled:!0,limitsOnWheel:!1},pan:{disabled:!1,panAnimationType:"linear",lockAxisX:!1,lockAxisY:!1,velocity:!0,velocityEqualToMove:!0,velocitySensitivity:2,velocityActiveScale:1,velocityMinSpeed:1,velocityBaseTime:1600,velocityAnimationType:"easeOutQuart",padding:!0,paddingSize:30,panReturnAnimationTime:400,panReturnAnimationType:"easeOut",disableOnTarget:[]},pinch:{disabled:!1},zoomIn:{disabled:!1,step:20,animation:!0,animationType:"easeOut",animationTime:200},zoomOut:{disabled:!1,step:20,animation:!0,animationType:"easeOut",animationTime:200},doubleClick:{disabled:!1,step:20,mode:"zoomIn",animation:!0,animationType:"easeOut",animationTime:200},reset:{disabled:!1,animation:!0,animationType:"easeOut",animationTime:200},scalePadding:{disabled:!1,size:.2,animationTime:200,animationType:"easeOut"}},c=function(t,e){return Number(t.toFixed(e))},h=function(t,e){return"number"==typeof t?t:e},f=function(t,e,n,r){return c(r?t<e?e:t>n?n:t:t,2)},d=function(t,e){return Math.sqrt(Math.pow(t.pageX-e.pageX,2)+Math.pow(t.pageY-e.pageY,2))},v=function(t,e){t&&"function"==typeof t&&t(e)},p=function(t,e,n){var r=n.scale,i=n.options,a=i.maxScale,o=i.minScale;return!!t&&(r<a||r>o||(Math.sign(t.deltaY)!==Math.sign(e.deltaY)||(t.deltaY>0&&t.deltaY<e.deltaY||(t.deltaY<0&&t.deltaY>e.deltaY||Math.sign(t.deltaY)!==Math.sign(e.deltaY)))))},y=function(t,e){return Object.keys(t).reduce((function(n,i){return"object"===Object(r.a)(e[i])&&null!==e[i]?n[i]=l(l({},t[i]),e[i]):n[i]=void 0===e[i]?t[i]:e[i],n}),{})};var m={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function b(){this.mounted&&(this.animation&&cancelAnimationFrame(this.animation),this.animate=!1,this.animation=!1,this.velocity=!1)}function g(t,e,n){var r=this;if(this.mounted){var i=(new Date).getTime();b.call(this),this.animation=function(){if(r.animation&&r.mounted){var a=(new Date).getTime()-i,o=(0,m[t])(a/e);a>=e?(n(1),r.animation=null):(n(o),requestAnimationFrame(r.animation))}},requestAnimationFrame(this.animation)}}function w(t){var e=this,n=t.targetState,r=t.speed,i=t.type,a=this.stateProvider,o=a.scale,s=a.positionX,l=a.positionY,u=n.scale-o,c=n.positionX-s,h=n.positionY-l;0===r?(this.stateProvider.previousScale=this.stateProvider.scale,this.stateProvider.scale=n.scale,this.stateProvider.positionX=n.positionX,this.stateProvider.positionY=n.positionY,this.applyTransformation()):g.call(this,i,r,(function(t){e.stateProvider.previousScale=e.stateProvider.scale,e.stateProvider.scale=o+u*t,e.stateProvider.positionX=s+c*t,e.stateProvider.positionY=l+h*t,e.applyTransformation()}))}function x(t,e,n,r,i){var a=e-(i?r:0);return!isNaN(n)&&t>=n?n:!isNaN(e)&&t<=a?a:t}function I(t,e,n,r,i,a){var o=n.minPositionX,s=n.minPositionY,l=n.maxPositionX,u=n.maxPositionY,c=a?i*a.offsetWidth/100:0,h=a?i*a.offsetHeight/100:0;return{x:f(t,o-c,l+c,r),y:f(e,s-h,u+h,r)}}function C(t,e,n){var r=e.getBoundingClientRect(),i=(t.clientX-r.left)/n,a=(t.clientY-r.top)/n;return(isNaN(i)||isNaN(a))&&console.error("No mouse or touch offset found"),{mouseX:i,mouseY:a}}function k(t,e,n,r,i){var a=this.stateProvider,o=a.scale,s=a.positionX,l=a.positionY,u=a.options.transformEnabled,c=n-o;return"number"!=typeof t||"number"!=typeof e?console.error("Mouse X and Y position were not provided!"):u?I(s-t*c,l-e*c,r,i,0,null):{newPositionX:s,newPositionY:l}}function P(t){var e=t.touches;return e&&1===e.length?{clientX:e[0].clientX,clientY:e[0].clientY}:e?null:{clientX:t.clientX,clientY:t.clientY}}function S(t){var e=this.stateProvider,n=e.scale,r=e.positionX,i=e.positionY,a=e.options,o=a.limitToBounds,s=a.minScale,l=e.pan,u=l.lockAxisX,c=l.lockAxisY,h=l.padding,f=l.paddingSize,d=e.wrapperComponent;if(this.startCoords){var v=this.startCoords,p=v.x,y=v.y,m=P(t);if(!m)return console.error("Cannot find mouse client positions");var b=m.clientX,g=m.clientY,w=u?r:b-p,x=c?i:g-y,C=h&&n>=s?f:0;if(w!==r||x!==i){var k=I(w,x,this.bounds,o,C,d);O.call(this,k.x,k.y)}}}function M(){var t=this.stateProvider,e=t.scale,n=t.options.minScale,r=t.pan,i=r.disabled,a=r.padding,o=r.panReturnAnimationTime,s=r.panReturnAnimationType;if(!(i||e<n||!a)){var l=T.call(this);w.call(this,{targetState:l,speed:o,type:s})}}function T(){var t=this.stateProvider,e=t.positionX,n=t.positionY,r=t.scale,i=t.options,a=i.disabled,o=i.limitToBounds,s=i.limitToWrapper,l=this.state.wrapperComponent;if(!a){var u=this.bounds,c=u.maxPositionX,h=u.minPositionX,f=u.maxPositionY,d=u.minPositionY,v=e>c||e<h,p=n>f||n<d,y=e>c?l.offsetWidth:this.stateProvider.minPositionX||0,m=n>f?l.offsetHeight:this.stateProvider.minPositionY||0,b=k.call(this,y,m,r,this.bounds,o||s),g=b.x,w=b.y;return{scale:r,positionX:v?g:e,positionY:p?w:n}}}function O(t,e){this.stateProvider.pan.padding&&(this.stateProvider.positionX=t,this.stateProvider.positionY=e,this.applyTransformation())}function _(t,e,n,r,i){var a=this.stateProvider,o=a.scale,s=a.options,l=s.maxScale,u=s.minScale,h=a.scalePadding,f=h.size,d=h.disabled,v=a.wrapperComponent,p=null;if(i){p=o+(e-e*(1e-4*window.innerWidth))*t*(o/(t<0?30:20))}else{var y=2-window.innerWidth/v.offsetWidth;p=o+e*t*((o-o*Math.max(.2,Math.min(.99,y)))/20)}if(r)return p;var m=!n&&!d;return x(c(p,3),u,l,f,m)}function E(t,e){var n=this.stateProvider,r=function(t,e,n){var r=t.offsetWidth,i=t.offsetHeight,a=e.offsetWidth*n,o=e.offsetHeight*n;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:a,newDiffWidth:r-a,newContentHeight:o,newDiffHeight:i-o}}(n.wrapperComponent,n.contentComponent,t),i=r.wrapperWidth,a=r.wrapperHeight,o=function(t,e,n,r,i,a,o){var s=t>e?n*(o?1:.5):0,l=r>i?a*(o?1:.5):0;return{minPositionX:t-e-s,maxPositionX:s,minPositionY:r-i-l,maxPositionY:l}}(i,r.newContentWidth,r.newDiffWidth,a,r.newContentHeight,r.newDiffHeight,e);return this.bounds=o,o}function B(t){var e=this.stateProvider,n=e.scale,r=e.contentComponent,i=e.options.limitToBounds,a=e.scalePadding,o=a.size,s=a.disabled,l=e.wheel,u=l.step,c=l.limitsOnWheel;t.preventDefault(),t.stopPropagation();var f=function(t,e){var n=t?t.deltaY<0?1:-1:0;return h(e,n)}(t,null),d=_.call(this,f,u,!t.ctrlKey);if(n!==d){var v=E.call(this,d,!c),p=C(t,r,n),y=p.mouseX,m=p.mouseY,b=i&&(s||0===o||c),g=k.call(this,y,m,d,v,b),w=g.x,x=g.y;this.bounds=v,this.stateProvider.previousScale=n,this.stateProvider.scale=d,this.stateProvider.positionX=w,this.stateProvider.positionY=x,this.applyTransformation()}}function V(t,e,n,r,i){var a=this.stateProvider,o=a.contentComponent,s=a.options,l=s.disabled,u=s.minScale,h=s.maxScale,f=s.limitToBounds,d=s.limitToWrapper;if(!l&&!t){var v=x(c(e,2),u,h,null,null),p=E.call(this,v,d),y=n,m=r;if(i){var b=C(i,o,e);y=b.mouseX,m=b.mouseY}var g=k.call(this,y,m,v,p,f);return{scale:v,positionX:g.x,positionY:g.y}}}function j(){var t=this.stateProvider,e=t.scale,n=t.wrapperComponent,r=t.options,i=r.minScale,a=r.limitToBounds,o=t.scalePadding,s=o.disabled,l=o.animationTime,u=o.animationType,c=s||e>=i;if((e>=1||a)&&M.call(this),!c){var h=n.offsetWidth/2,f=n.offsetHeight/2,d=V.call(this,!1,i,h,f,null);w.call(this,{targetState:d,speed:l,type:u})}}function A(t){t.preventDefault(),t.stopPropagation();var e=this.stateProvider,n=e.contentComponent,r=e.scale,i=e.doubleClick,a=i.disabled,o=i.mode,s=i.step,l=i.animationTime,u=i.animationType;if("reset"===o)return R.call(this,t,l);var c="zoomOut"===o?-1:1,h=_.call(this,c,s,void 0,void 0,!0),f=C(t,n,r),d=f.mouseX,v=f.mouseY,p=V.call(this,a,h,d,v);if(p.scale!==r){var y=Y(_.call(this,c,s,!0,void 0,!0),h,l);w.call(this,{targetState:p,speed:y,type:u})}}function z(t,e){var n=this.stateProvider,r=n.scale,i=n.positionX,a=n.positionY,o=n.wrapperComponent,s=n.zoomIn,l=n.zoomOut,u=(o.offsetWidth/2-i)/r,c=(o.offsetHeight/2-a)/r,h=_.call(this,t,e,void 0,void 0,!0),f=h>r,d=f?s.animationTime:l.animationTime,v=f?s.animationType:l.animationType,p=f?s.disabled:l.disabled,y=V.call(this,p,h,u,c);if(y.scale!==r){var m=Y(_.call(this,t,e,!0,void 0,!0),h,d);w.call(this,{targetState:y,speed:m,type:v})}}function R(t){var e=this.props.defaultValues,n=e.defaultScale,r=e.defaultPositionX,i=e.defaultPositionY,a=this.stateProvider,o=a.scale,s=a.positionX,l=a.positionY,c=a.reset,f=a.options,d=f.disabled,v=f.limitToBounds,p=f.centerContent,y=f.limitToWrapper;if(!(d||c.disabled||o===n&&s===r&&l===i)){var m="number"==typeof t?t:c.animationTime,b=h(n,u.scale),g=h(r,u.positionX),x=h(i,u.positionY);if(v&&!y||p){var I=E.call(this,b,y);g=I.minPositionX,x=I.minPositionY}var C={scale:b,positionX:g,positionY:x};w.call(this,{targetState:C,speed:m,type:c.animationType})}}function Y(t,e,n){return n*(e/t)}function N(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function X(t){return t===1/0||t===-1/0}function D(t,e){var n=this.stateProvider,r=n.options,i=r.minScale,a=r.maxScale,o=n.scalePadding,s=o.size,l=o.disabled;if("number"!=typeof e||"number"!=typeof t)return console.error("Pinch touches distance was not provided");if(!(t<0)){var u=t/e*this.pinchStartScale;return x(c(u,2),i,a,s,!l)}}function W(t){var e=this.stateProvider,n=e.scale,r=e.options,i=r.limitToBounds,a=r.limitToWrapper,o=e.scalePadding,s=o.disabled,l=o.size,u=e.wheel.limitsOnWheel,c=e.pinch,h=this.state.contentComponent;if(!c.disabled&&!this.stateProvider.options.disabled&&(t.cancelable&&(t.preventDefault(),t.stopPropagation()),null!==this.pinchStartDistance)){var f=function(t,e,n){var r=n.getBoundingClientRect(),i=t.touches,a=N(i[0].clientX-r.left,5),o=N(i[0].clientY-r.top,5);return{mouseX:(a+N(i[1].clientX-r.left,5))/2/e,mouseY:(o+N(i[1].clientY-r.top,5))/2/e}}(t,n,h),v=f.mouseX,p=f.mouseY;if(!X(v)&&!X(p)){var y=function(t){return d(t.touches[0],t.touches[1])}(t),m=D.call(this,y,this.pinchStartDistance);if(!X(m)&&m!==n){var b=E.call(this,m,a),g=i&&(s||0===l||u),w=k.call(this,v,p,m,b,g),x=w.x,I=w.y;this.lastDistance=y,this.stateProvider.positionX=x,this.stateProvider.positionY=I,this.stateProvider.scale=m,this.stateProvider.previousScale=n,this.applyTransformation()}}}}function q(t,e){return this.stateProvider.pan.velocityEqualToMove?e-e/Math.max(1,t):e}function F(){this.setState({startAnimation:!1})}function L(){this.setState({startAnimation:!0})}function U(){var t=this,e=this.stateProvider,n=e.positionX,r=e.positionY,i=e.options.limitToBounds,a=e.pan,o=a.velocityBaseTime,s=a.lockAxisX,l=a.lockAxisY,u=a.velocityAnimationType,c=a.panReturnAnimationTime,h=a.panReturnAnimationType,f=a.padding,d=a.paddingSize,v=e.wrapperComponent;if(this.mounted){if(!this.velocity||!this.bounds)return b.call(this);var p=this.bounds,y=p.maxPositionX,w=p.minPositionX,x=p.maxPositionY,C=p.minPositionY,k=this.velocity,P=k.velocityX,S=k.velocityY,T=k.velocity,O=q.call(this,T,o);if(O){var _=P,E=S,B=O>c?O:c,V=f?d:0,j=v?V*v.offsetWidth/100:0,A=v?V*v.offsetHeight/100:0,z=y+j,R=w-j,Y=x+A,N=C-A,X=I(n,r,this.bounds,i,V,v),D=(new Date).getTime();g.call(this,u,B,(function(e){var a=(new Date).getTime()-D,o=(0,m[h])(a/c);(a>c||o>1||o===1/0||o===-1/0)&&(o=1);var u=Q(s,_,e,o,w,y,i,n,X.x,R,z),f=Q(l,E,e,o,C,x,i,r,X.y,N,Y);n===u&&r===f||(t.stateProvider.positionX=u,t.stateProvider.positionY=f,t.applyTransformation())}))}else M.call(this)}}function H(t){var e=this,n=this.stateProvider,r=n.scale,i=n.options.disabled,a=n.pan,o=a.velocity,s=a.velocitySensitivity,l=a.velocityActiveScale,u=a.velocityMinSpeed,c=n.wrapperComponent;if(!(!o||l>=r||i)){F.call(this);var h=Date.now();if(this.lastMousePosition){var f=P(t);if(!f)return console.error("No mouse or touch position detected");var d=f.clientX,v=f.clientY,p=d-this.lastMousePosition.clientX,y=v-this.lastMousePosition.clientY,m=h-this.velocityTime,b=2-c.offsetWidth/window.innerWidth,g=2-c.offsetHeight/window.innerHeight,w=p/m*s*r*(20*Math.max(u,Math.min(2,b))),x=y/m*s*r*(20*Math.max(u,Math.min(2,g))),I=p*p+y*y,C=Math.sqrt(I)/m*s;if(this.velocity&&C<this.velocity.velocity&&this.throttle)return;this.velocity={velocityX:w,velocityY:x,velocity:C},this.throttle&&clearTimeout(this.throttle),this.throttle=setTimeout((function(){e.mounted&&(e.throttle=!1)}),30)}var k=P(t);this.lastMousePosition=k,this.velocityTime=h}}function Q(t,e,n,r,i,a,o,s,l,u,c){if(o){var h;if(l>i&&s>a)return(h=l-(l-a)*r)>c?c:h<a?a:h;if(l<i&&s<i)return(h=l-(l-i)*r)<u?u:h>i?i:h}return t?l:f(s+e*n,i,a,o)}var Z=["previousScale","scale","positionX","positionY","defaultPositionX","defaultPositionY","defaultScale","onWheelStart","onWheel","onWheelStop","onPanningStart","onPanning","onPanningStop","onPinchingStart","onPinching","onPinchingStop","onZoomChange","options","wheel","scalePadding","pan","pinch","zoomIn","zoomOut","doubleClick","reset"],$=function(t){return Object.keys(t).reduce((function(e,n){return Z.includes(n)&&(e[n]=t[n]),e}),{})},J=a.a.createContext({}),K=null,G=null;!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mounted=!0,e.state={wrapperComponent:void 0,contentComponent:void 0},e.stateProvider=l(l(l(l({},u),y(u,e.props.dynamicValues)),e.props.defaultValues),{previousScale:e.props.dynamicValues.scale||e.props.defaultValues.scale||u.scale}),e.windowToWrapperScaleX=0,e.windowToWrapperScaleY=0,e.startCoords=null,e.isDown=!1,e.pinchStartDistance=null,e.lastDistance=null,e.pinchStartScale=null,e.distance=null,e.bounds=null,e.velocityTime=null,e.lastMousePosition=null,e.velocity=null,e.offsetX=null,e.offsetY=null,e.throttle=!1,e.previousWheelEvent=null,e.lastScale=null,e.animate=null,e.animation=null,e.maxBounds=null,e.handleWheel=function(t){var n=e.stateProvider,r=n.scale,i=n.wheel,a=i.disabled,o=i.wheelEnabled,s=i.touchPadEnabled,l=e.props,u=l.onWheelStart,c=l.onWheel,h=l.onWheelStop,f=e.state,d=f.wrapperComponent,y=f.contentComponent;e.isDown||a||e.stateProvider.options.disabled||!d||!y||(o||t.ctrlKey)&&(!s&&t.ctrlKey||(K||(e.lastScale=r,b.call(e),v(u,e.getCallbackProps())),B.call(e,t),v(c,e.getCallbackProps()),e.applyTransformation(null,null,null),e.previousWheelEvent=t,p(e.previousWheelEvent,t,e.stateProvider)&&(clearTimeout(K),K=setTimeout((function(){e.mounted&&(v(h,e.getCallbackProps()),K=null)}),180)),e.animate=!1,e.lastScale=e.stateProvider.scale,clearTimeout(G),G=setTimeout((function(){e.mounted&&j.call(e,t)}),100)))},e.checkPanningTarget=function(t){var n=e.stateProvider.pan.disableOnTarget;return n.map((function(t){return t.toUpperCase()})).includes(t.target.tagName)||n.find((function(e){return t.target.classList.value.includes(e)}))},e.checkIsPanningActive=function(t){var n=e.stateProvider.pan.disabled,r=e.state,i=r.wrapperComponent,a=r.contentComponent;return!e.isDown||n||e.stateProvider.options.disabled||t.touches&&(1!==t.touches.length||Math.abs(e.startCoords.x-t.touches[0].clientX)<1||Math.abs(e.startCoords.y-t.touches[0].clientY)<1)||!i||!a},e.handleSetUpPanning=function(t,n){var r=e.stateProvider,i=r.positionX,a=r.positionY;e.isDown=!0,e.startCoords={x:t-i,y:n-a},v(e.props.onPanningStart,e.getCallbackProps())},e.handleStartPanning=function(t){var n=e.stateProvider,r=n.wrapperComponent,i=n.scale,a=n.options,o=a.minScale,s=a.maxScale,l=a.limitToWrapper,u=n.pan.disabled,c=t.target,h=t.touches;u||e.stateProvider.options.disabled||r&&!r.contains(c)||e.checkPanningTarget(t)||i<o||i>s||(b.call(e),e.bounds=E.call(e,i,l),h&&1===h.length&&e.handleSetUpPanning(h[0].clientX,h[0].clientY),h||e.handleSetUpPanning(t.clientX,t.clientY))},e.handlePanning=function(t){e.isDown&&t.preventDefault(),e.checkIsPanningActive(t)||(t.stopPropagation(),H.call(e,t),S.call(e,t),v(e.props.onPanning,e.getCallbackProps()))},e.handleStopPanning=function(){if(e.isDown){e.isDown=!1,e.animate=!1,e.animation=!1,L.call(e),v(e.props.onPanningStop,e.getCallbackProps());var t=e.stateProvider,n=t.pan.velocity,r=t.scale;e.velocity&&n&&r>1?U.call(e):M.call(e)}},e.handlePinchStart=function(t){var n=e.stateProvider.scale;t.preventDefault(),t.stopPropagation(),b.call(e);var r=d(t.touches[0],t.touches[1]);e.pinchStartDistance=r,e.lastDistance=r,e.pinchStartScale=n,e.isDown=!1,v(e.props.onPinchingStart,e.getCallbackProps())},e.handlePinch=function(t){e.isDown=!1,W.call(e,t),v(e.props.onPinching,e.getCallbackProps())},e.handlePinchStop=function(){"number"==typeof e.pinchStartScale&&(e.isDown=!1,e.velocity=null,e.lastDistance=null,e.pinchStartScale=null,e.pinchStartDistance=null,j.call(e),v(e.props.onPinchingStop,e.getCallbackProps()))},e.handleTouchStart=function(t){var n=e.stateProvider,r=n.wrapperComponent,i=n.contentComponent,a=n.scale,o=n.options,s=o.disabled,l=o.minScale,u=t.touches;if(!s&&r&&i&&!(a<l))return b.call(e),u&&1===u.length?e.handleStartPanning(t):u&&2===u.length?e.handlePinchStart(t):void 0},e.handleTouch=function(t){var n=e.stateProvider,r=n.pan,i=n.pinch;if(!n.options.disabled)return r.disabled||1!==t.touches.length?i.disabled||2!==t.touches.length?void 0:e.handlePinch(t):e.handlePanning(t)},e.handleTouchStop=function(){e.handleStopPanning(),e.handlePinchStop()},e.zoomIn=function(t){var n=e.stateProvider,r=n.zoomIn,i=r.disabled,a=r.step,o=n.options,s=e.state,l=s.wrapperComponent,u=s.contentComponent;if(!t)throw Error("Zoom in function requires event prop");!i&&!o.disabled&&l&&u&&z.call(e,1,a)},e.zoomOut=function(t){var n=e.stateProvider,r=n.zoomOut,i=r.disabled,a=r.step,o=n.options,s=e.state,l=s.wrapperComponent,u=s.contentComponent;if(!t)throw Error("Zoom out function requires event prop");!i&&!o.disabled&&l&&u&&z.call(e,-1,a)},e.handleDbClick=function(t){var n=e.stateProvider,r=n.options,i=n.doubleClick,a=i.disabled,o=i.step,s=e.state,l=s.wrapperComponent,u=s.contentComponent;if(!t)throw Error("Double click function requires event prop");!a&&!r.disabled&&l&&u&&A.call(e,t,1,o)},e.setScale=function(t,n,r){void 0===n&&(n=200),void 0===r&&(r="easeOut");var i=e.stateProvider,a=i.positionX,o=i.positionY,s=i.scale,l=i.options.disabled,u=e.state,c=u.wrapperComponent,h=u.contentComponent;if(!l&&c&&h){var f={positionX:a,positionY:o,scale:isNaN(t)?s:t};w.call(e,{targetState:f,speed:n,type:r})}},e.setPositionX=function(t,n,r){void 0===n&&(n=200),void 0===r&&(r="easeOut");var i=e.stateProvider,a=i.positionX,o=i.positionY,s=i.scale,l=i.options,u=l.disabled,c=l.transformEnabled,h=e.state,f=h.wrapperComponent,d=h.contentComponent;if(!u&&c&&f&&d){var v={positionX:isNaN(t)?a:t,positionY:o,scale:s};w.call(e,{targetState:v,speed:n,type:r})}},e.setPositionY=function(t,n,r){void 0===n&&(n=200),void 0===r&&(r="easeOut");var i=e.stateProvider,a=i.positionX,o=i.scale,s=i.positionY,l=i.options,u=l.disabled,c=l.transformEnabled,h=e.state,f=h.wrapperComponent,d=h.contentComponent;if(!u&&c&&f&&d){var v={positionX:a,positionY:isNaN(t)?s:t,scale:o};w.call(e,{targetState:v,speed:n,type:r})}},e.setTransform=function(t,n,r,i,a){void 0===i&&(i=200),void 0===a&&(a="easeOut");var o=e.stateProvider,s=o.positionX,l=o.positionY,u=o.scale,c=o.options,h=c.disabled,f=c.transformEnabled,d=e.state,v=d.wrapperComponent,p=d.contentComponent;if(!h&&f&&v&&p){var y={positionX:isNaN(t)?s:t,positionY:isNaN(n)?l:n,scale:isNaN(r)?u:r};w.call(e,{targetState:y,speed:i,type:a})}},e.resetTransform=function(){var t=e.stateProvider.options,n=t.disabled,r=t.transformEnabled;!n&&r&&R.call(e)},e.setDefaultState=function(){e.animation=null,e.stateProvider=l(l(l({},e.stateProvider),{scale:u.scale,positionX:u.positionX,positionY:u.positionY}),e.props.defaultValues),e.forceUpdate()},e.setWrapperComponent=function(t){e.setState({wrapperComponent:t})},e.setContentComponent=function(t){e.setState({contentComponent:t},(function(){var n=e.stateProvider,r=n.wrapperComponent,i=n.options,a=i.centerContent,o=i.limitToBounds,s=i.limitToWrapper,l=n.scale,u=e.props.defaultValues,c=u.positionX,h=u.positionY;if(o&&!s||a&&!c&&!h){var f="translate(25%, 25%) scale("+l+")";t.style.transform=f,t.style.WebkitTransform=f,e.forceUpdate();var d=(new Date).getTime(),v=setInterval((function(){if(r.offsetWidth){var t=E.call(e,l,!1);e.stateProvider.positionX=t.minPositionX,e.stateProvider.positionY=t.minPositionY,e.applyTransformation(null,null,null),clearInterval(v),v=null}else(new Date).getTime()-d>2e3&&(clearInterval(v),v=null)}),20)}else e.applyTransformation(null,null,null)}))},e.applyTransformation=function(t,n,r){if(e.mounted){var i=e.state.contentComponent,a=e.props.onZoomChange,o=e.stateProvider,s=o.previousScale,l=o.scale,u=o.positionX,c=o.positionY;if(!i)return console.error("There is no content component");var h="translate("+(n||u)+"px, "+(r||c)+"px) scale("+(t||l)+")";i.style.transform=h,i.style.WebkitTransform=h,e.forceUpdate(),a&&s!==l&&v(a,e.getCallbackProps())}},e.getCallbackProps=function(){return $(e.stateProvider)},e}s(e,t),e.prototype.componentDidMount=function(){window.addEventListener("mousedown",this.handleStartPanning,!1),window.addEventListener("mousemove",this.handlePanning,!1),window.addEventListener("mouseup",this.handleStopPanning,!1)},e.prototype.componentWillUnmount=function(){window.removeEventListener("mousedown",this.handleStartPanning,!1),window.removeEventListener("mousemove",this.handlePanning,!1),window.removeEventListener("mouseup",this.handleStopPanning,!1),b.call(this)},e.prototype.componentDidUpdate=function(t,e){var n,r=this.state,i=r.wrapperComponent,a=r.contentComponent,o=this.props.dynamicValues;if(!e.contentComponent&&a&&(this.stateProvider.contentComponent=a),!e.wrapperComponent&&i&&void 0!==i){this.stateProvider.wrapperComponent=i,this.windowToWrapperScaleX=(n=i)?window.innerWidth/n.offsetWidth:0,this.windowToWrapperScaleY=function(t){return t?window.innerHeight/t.offsetHeight:0}(i);i.addEventListener("wheel",this.handleWheel,!1),i.addEventListener("dblclick",this.handleDbClick,!1),i.addEventListener("touchstart",this.handleTouchStart,!1),i.addEventListener("touchmove",this.handleTouch,!1),i.addEventListener("touchend",this.handleTouchStop,!1)}(i&&a||t.dynamicValues!==o)&&(this.maxBounds=E.call(this,this.stateProvider.scale,this.stateProvider.options.limitToWrapper)),t.dynamicValues&&t.dynamicValues!==o&&(this.animation=null,this.stateProvider=l(l({},this.stateProvider),y(this.stateProvider,o)),this.applyTransformation(null,null,null))},e.prototype.render=function(){var t=this.state,e=t.wrapperComponent,n=t.contentComponent,r={loaded:Boolean(e&&n),state:this.getCallbackProps(),dispatch:{setScale:this.setScale,setPositionX:this.setPositionX,setPositionY:this.setPositionY,zoomIn:this.zoomIn,zoomOut:this.zoomOut,setTransform:this.setTransform,resetTransform:this.resetTransform,setDefaultState:this.setDefaultState},nodes:{setWrapperComponent:this.setWrapperComponent,setContentComponent:this.setContentComponent}},i=this.props.children,o="function"==typeof i?i(l(l({},r.state),r.dispatch)):i;return a.a.createElement(J.Provider,{value:r},o)}}(i.Component);var tt="TransformComponent-module_container__3NwNd",et="TransformComponent-module_content__TZU5O";!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".TransformComponent-module_container__3NwNd {\n  position: relative;\n  width: fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.TransformComponent-module_content__TZU5O {\n  display: flex;\n  flex-wrap: wrap;\n  width: fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.TransformComponent-module_content__TZU5O img {\n  pointer-events: none;\n}\n"),(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrapperRef=a.a.createRef(),e.contentRef=a.a.createRef(),e}return s(e,t),e.prototype.componentDidMount=function(){var t=this.context.nodes;t.setWrapperComponent(this.wrapperRef.current),t.setContentComponent(this.contentRef.current)},e.prototype.render=function(){var t=this.props.children,e=this.context.state,n=e.positionX,r=e.positionY,i=e.scale,o=e.options,s=o.wrapperClass,l=o.contentClass,u={WebkitTransform:"translate("+n+"px, "+r+"px) scale("+i+")",transform:"translate("+n+"px, "+r+"px) scale("+i+")"};return a.a.createElement("div",{ref:this.wrapperRef,className:"react-transform-component "+tt+" "+s},a.a.createElement("div",{ref:this.contentRef,className:"react-transform-element "+et+" "+l,style:u},t))},e}(a.a.Component)).contextType=J},153:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=i(t)););return t}(t,e);if(r){var a=Object.getOwnPropertyDescriptor(r,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function o(t){if(Array.isArray(t))return t}function s(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(t){return o(t)||s(t)||u(t)||c()}n.d(e,"a",(function(){return H})),n.d(e,"b",(function(){return dn}));var f=n(21);function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function p(t,e){return!e||"object"!==Object(f.a)(e)&&"function"!=typeof e?r(t):e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function m(t,e,n){return(m=y()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&d(i,n.prototype),i}).apply(null,arguments)}function b(t){var e="function"==typeof Map?new Map:void 0;return(b=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return m(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,t)})(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){return o(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(t,e)||u(t,e)||c()}function x(t){return function(t){if(Array.isArray(t))return l(t)}(t)||s(t)||u(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=n(26),C=n.n(I);function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e&&P(t.prototype,e),n&&P(t,n),t}var M=C.a.mark(Ht),T=C.a.mark(Re);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function _(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B=function(){function t(e){k(this,t),this.base=e}return S(t,[{key:Symbol.iterator,value:function(){return this.base[Symbol.iterator]()}},{key:"concat",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return V(C.a.mark((function t(e){var n,r,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=_(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=8;break}return i=r.value,t.delegateYield(i,"t0",6);case 6:t.next=3;break;case 8:t.next=13;break;case 10:t.prev=10,t.t1=t.catch(1),n.e(t.t1);case 13:return t.prev=13,n.f(),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])}))([this].concat(x(e.map(V)))))}},{key:"entries",value:function(){return V(C.a.mark((function t(e){var n,r,i,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,r=_(e),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=10;break}return a=i.value,t.next=8,[n++,a];case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])}))(this))}},{key:"every",value:function(t){return!this.some((function(e,n){return!t(e,n)}))}},{key:"fill",value:function(t){return this.map((function(){return t}))}},{key:"filter",value:function(t){return V(C.a.mark((function e(n){var r,i,a,o,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_(n),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=10;break}if(a=w(i.value,2),o=a[0],s=a[1],!t(s,o)){e.next=8;break}return e.next=8,s;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))(this.entries()))}},{key:"find",value:function(t){var e,n=_(this.entries());try{for(n.s();!(e=n.n()).done;){var r=w(e.value,2),i=r[0],a=r[1];if(t(a,i))return a}}catch(o){n.e(o)}finally{n.f()}}},{key:"findIndex",value:function(t){var e,n=_(this.entries());try{for(n.s();!(e=n.n()).done;){var r=w(e.value,2),i=r[0];if(t(r[1],i))return i}}catch(a){n.e(a)}finally{n.f()}return-1}},{key:"flatMap",value:function(t){return V(C.a.mark((function e(n){var r,i,a,o,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_(n),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=8;break}return a=w(i.value,2),o=a[0],s=a[1],e.delegateYield(V(t(s,o)),"t0",6);case 6:e.next=3;break;case 8:e.next=13;break;case 10:e.prev=10,e.t1=e.catch(1),r.e(e.t1);case 13:return e.prev=13,r.f(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))(this.entries()))}},{key:"forEach",value:function(t){var e,n=_(this.entries());try{for(n.s();!(e=n.n()).done;){var r=w(e.value,2),i=r[0];t(r[1],i)}}catch(a){n.e(a)}finally{n.f()}}},{key:"includes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.indexOf(t,e)>=0}},{key:"indexOf",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e<0)throw new Error("fromIndex doesn't support negative numbers because generator length isn't known");var n,r=_(this.entries());try{for(r.s();!(n=r.n()).done;){var i=w(n.value,2),a=i[0],o=i[1];if(a>=e&&o===t)return a}}catch(s){r.e(s)}finally{r.f()}return-1}},{key:"join",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:",";return x(this).join(t)}},{key:"keys",value:function(){return V(C.a.mark((function t(e){var n,r,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,r=_(e),t.prev=2,r.s();case 4:if((i=r.n()).done){t.next=10;break}return i.value,t.next=8,n++;case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,12,15,18]])}))(this))}},{key:"lastIndexOf",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if(e<0)throw new Error("fromIndex doesn't support negative numbers because generator length isn't known");var n,r=-1,i=_(this.entries());try{for(i.s();!(n=i.n()).done;){var a=w(n.value,2),o=a[0],s=a[1];o<=e&&s===t&&(r=o)}}catch(l){i.e(l)}finally{i.f()}return r}},{key:"map",value:function(t){return V(C.a.mark((function e(n){var r,i,a,o,s;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=_(n),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}return a=w(i.value,2),o=a[0],s=a[1],e.next=7,t(s,o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))(this.entries()))}},{key:"reduce",value:function(t,e){if(void 0===e){var n,r=t,i=!0,a=void 0,o=_(this.entries());try{for(o.s();!(n=o.n()).done;){var s=w(n.value,2),l=s[0],u=s[1];i?(a=u,i=!1):a=r(a,u,l)}}catch(y){o.e(y)}finally{o.f()}if(i)throw new TypeError("Reduce of empty iterable with no initial value");return a}var c,h=t,f=e,d=_(this.entries());try{for(d.s();!(c=d.n()).done;){var v=w(c.value,2),p=v[0];f=h(f,v[1],p)}}catch(y){d.e(y)}finally{d.f()}return f}},{key:"reverse",value:function(){return V(x(this).reverse())}},{key:"slice",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return V(C.a.mark((function n(r){var i,a,o,s,l;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=_(r),n.prev=1,i.s();case 3:if((a=i.n()).done){n.next=17;break}if(o=w(a.value,2),s=o[0],l=o[1],!(s<t)){n.next=9;break}n.next=15;break;case 9:if(!(s<e)){n.next=14;break}return n.next=12,l;case 12:n.next=15;break;case 14:return n.abrupt("break",17);case 15:n.next=3;break;case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(1),i.e(n.t0);case 22:return n.prev=22,i.f(),n.finish(22);case 25:case"end":return n.stop()}}),n,null,[[1,19,22,25]])}))(this.entries()))}},{key:"some",value:function(t){var e,n=_(this.entries());try{for(n.s();!(e=n.n()).done;){var r=w(e.value,2),i=r[0];if(t(r[1],i))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"sort",value:function(t){return V(x(this).sort(t))}},{key:"splice",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return V(C.a.mark((function n(i){var a,o,s,l,u;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=_(i),n.prev=1,a.s();case 3:if((o=a.n()).done){n.next=12;break}if(s=w(o.value,2),l=s[0],u=s[1],l!==t){n.next=7;break}return n.delegateYield(r,"t0",7);case 7:if(!(l<t||l>=t+e)){n.next=10;break}return n.next=10,u;case 10:n.next=3;break;case 12:n.next=17;break;case 14:n.prev=14,n.t1=n.catch(1),a.e(n.t1);case 17:return n.prev=17,a.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[1,14,17,20]])}))(this.entries()))}},{key:"values",value:function(){return this}},{key:"length",get:function(){return this.reduce((function(t){return t+1}),0)}}]),t}();function V(t){return function(t){return"function"==typeof t[Symbol.iterator]}(t)?new B(t):new B(g({},Symbol.iterator,(function(){return t})))}function j(t){if(void 0!==t)return t;throw new Error("got unexpected undefined value")}function A(t,e){if(e.size<t.size){var n=[t,e];e=n[0],t=n[1]}var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.has(a))return!0}}catch(o){i.e(o)}finally{i.f()}return!1}var z=function(t){v(n,t);var e=O(n);function n(){return k(this,n),e.apply(this,arguments)}return S(n,[{key:"getThrow",value:function(t){var e=this.get(t);if(void 0===e)throw new Error("map doesn't contain key: ".concat(t));return e}},{key:"getDefault",value:function(t,e){var n=this.get(t);return void 0===n?e:n}},{key:"setIfAbsent",value:function(t,e){var n=this.get(t);return void 0===n?(this.set(t,e),e):n}}]),n}(b(Map)),R=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];k(this,t),this.child=e,this.data=n,this.points=r},Y=function t(e,n,r,i){k(this,t),this.source=e,this.target=n,this.data=r,this.points=i},N=function(){function t(e,n){k(this,t),this.id=e,this.data=n,this.dataChildren=[]}return S(t,[{key:"iroots",value:function(){return V([this])}},{key:"roots",value:function(){return[this]}},{key:"iterChildren",value:C.a.mark((function t(){var e,n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=_(this.dataChildren),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value.child,t.next=7,r;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"ichildren",value:function(){return V(this.iterChildren())}},{key:"children",value:function(){return x(this.ichildren())}},{key:"iterChildLinks",value:C.a.mark((function t(){var e,n,r,i,a,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=_(this.dataChildren),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return r=n.value,i=r.child,a=r.data,o=r.points,t.next=7,new Y(this,i,a,o);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])}))},{key:"ichildLinks",value:function(){return V(this.iterChildLinks())}},{key:"childLinks",value:function(){return x(this.ichildLinks())}},{key:Symbol.iterator,value:function(){return new X([this])[Symbol.iterator]()}},{key:"idescendants",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"depth";return new X([this]).idescendants(t)}},{key:"descendants",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"depth";return x(this.idescendants(t))}},{key:"ilinks",value:function(){return new X([this]).ilinks()}},{key:"links",value:function(){return x(this.ilinks())}},{key:"size",value:function(){return new X([this]).size()}},{key:"sum",value:function(t){return new X([this]).sum(t),this}},{key:"count",value:function(){return new X([this]).count(),this}},{key:"height",value:function(){return new X([this]).height(),this}},{key:"depth",value:function(){return new X([this]).depth(),this}},{key:"split",value:function(){return[this]}},{key:"connected",value:function(){return!0}}]),t}(),X=function(){function t(e){k(this,t),this.dagRoots=e}return S(t,[{key:Symbol.iterator,value:function(){return this.idepth()}},{key:"iroots",value:function(){return V(this.dagRoots)}},{key:"roots",value:function(){return this.dagRoots.slice()}},{key:"idepth",value:C.a.mark((function t(){var e,n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.roots(),n=new Set;case 2:if(!(r=e.pop())){t.next=10;break}if(n.has(r.id)){t.next=8;break}return n.add(r.id),t.next=7,r;case 7:e.push.apply(e,x(r.ichildren()));case 8:t.next=2;break;case 10:case"end":return t.stop()}}),t,this)}))},{key:"ibreadth",value:C.a.mark((function t(){var e,n,r,i,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=new Set,n=this.roots(),r=[];case 3:r=n.reverse(),n=[],i=void 0;case 6:if(!(i=r.pop())){t.next=14;break}if(e.has(i.id)){t.next=12;break}return e.add(i.id),t.next=11,i;case 11:(a=n).push.apply(a,x(i.ichildren()));case 12:t.next=6;break;case 14:if(n.length){t.next=3;break}case 15:case"end":return t.stop()}}),t,this)}))},{key:"ibefore",value:C.a.mark((function t(){var e,n,r,i,a,o,s,l,u,c,h,f,d;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=new z,n=_(this);try{for(n.s();!(r=n.n()).done;){i=r.value,a=_(i.ichildren());try{for(a.s();!(o=a.n()).done;)s=o.value,e.set(s.id,e.getDefault(s.id,0)+1)}catch(v){a.e(v)}finally{a.f()}}}catch(v){n.e(v)}finally{n.f()}l=this.roots();case 4:if(!(u=l.pop())){t.next=11;break}return t.next=7,u;case 7:c=_(u.ichildren());try{for(c.s();!(h=c.n()).done;)f=h.value,(d=e.getThrow(f.id))>1?e.set(f.id,d-1):l.push(f)}catch(v){c.e(v)}finally{c.f()}t.next=4;break;case 11:case"end":return t.stop()}}),t,this)}))},{key:"iafter",value:C.a.mark((function t(){var e,n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.roots(),n=new Set;case 2:if(!(r=e.pop())){t.next=17;break}if(!n.has(r.id)){t.next=7;break}t.next=15;break;case 7:if(!r.ichildren().every((function(t){return n.has(t.id)}))){t.next=13;break}return n.add(r.id),t.next=11,r;case 11:t.next=15;break;case 13:e.push(r),e.push.apply(e,x(r.ichildren()));case 15:t.next=2;break;case 17:case"end":return t.stop()}}),t,this)}))},{key:"idescendants",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"depth";if("depth"===t)return V(this.idepth());if("breadth"===t)return V(this.ibreadth());if("before"===t)return V(this.ibefore());if("after"===t)return V(this.iafter());throw new Error("unknown iteration style: ".concat(t))}},{key:"descendants",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"depth";return x(this.idescendants(t))}},{key:"ilinks",value:function(){return this.idescendants().flatMap((function(t){return t.ichildLinks()}))}},{key:"links",value:function(){return x(this.ilinks())}},{key:"size",value:function(){return this.idescendants().reduce((function(t){return t+1}),0)}},{key:"sum",value:function(t){var e,n=new z,r=_(this.idescendants("after").entries());try{for(r.s();!(e=r.n()).done;){var i=w(e.value,2),a=i[0],o=i[1],s=t(o,a),l=new z;l.set(o.id,s);var u,c=_(o.ichildren());try{for(c.s();!(u=c.n()).done;){var h,f=u.value,d=_(n.getThrow(f.id).entries());try{for(d.s();!(h=d.n()).done;){var v=w(h.value,2),p=v[0],y=v[1];l.set(p,y)}}catch(m){d.e(m)}finally{d.f()}}}catch(m){c.e(m)}finally{c.f()}o.value=V(l.entries()).map((function(t){return w(t,2)[1]})).reduce((function(t,e){return t+e})),n.set(o.id,l)}}catch(m){r.e(m)}finally{r.f()}return this}},{key:"count",value:function(){var t,e=new z,n=_(this.idescendants("after"));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ichildren()[Symbol.iterator]().next().done)e.set(r.id,new Set([r.id])),r.value=1;else{var i,a=new Set,o=_(r.ichildren());try{for(o.s();!(i=o.n()).done;){var s,l=i.value,u=_(e.getThrow(l.id));try{for(u.s();!(s=u.n()).done;){var c=s.value;a.add(c)}}catch(h){u.e(h)}finally{u.f()}}}catch(h){o.e(h)}finally{o.f()}e.set(r.id,a),r.value=a.size}}}catch(h){n.e(h)}finally{n.f()}return this}},{key:"height",value:function(){var t,e=_(this.idescendants("after"));try{for(e.s();!(t=e.n()).done;){var n=t.value;n.value=Math.max.apply(Math,[0].concat(x(n.ichildren().map((function(t){if(void 0===t.value)throw new Error("`after` iteration didn't iterate in after order");return t.value+1})))))}}catch(r){e.e(r)}finally{e.f()}return this}},{key:"depth",value:function(){var t,e=new z,n=_(this);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=_(i.ichildren());try{for(a.s();!(r=a.n()).done;){var o=r.value;e.setIfAbsent(o.id,[]).push(i)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){n.e(c)}finally{n.f()}var s,l=_(this.idescendants("before"));try{for(l.s();!(s=l.n()).done;){var u=s.value;u.value=Math.max.apply(Math,[0].concat(x(e.getDefault(u.id,[]).map((function(t){if(void 0===t.value)throw new Error("`before` iteration didn't iterate in before order");return t.value+1})))))}}catch(c){l.e(c)}finally{l.f()}return this}},{key:"split",value:function(){var e,n=new z,r=new z,i=_(this.iroots());try{for(i.s();!(e=i.n()).done;){var a=e.value;n.set(a.id,[]),r.set(a.id,new Set(a.idescendants().map((function(t){return t.id}))))}}catch(P){i.e(P)}finally{i.f()}var o,s=_(this.iroots().entries());try{for(s.s();!(o=s.n()).done;){var l,u=w(o.value,2),c=u[0],h=u[1],f=r.getThrow(h.id),d=_(this.iroots().slice(c+1));try{for(d.s();!(l=d.n()).done;){var v=l.value;A(f,r.getThrow(v.id))&&(n.getThrow(h.id).push(v),n.getThrow(v.id).push(h))}}catch(P){d.e(P)}finally{d.f()}}}catch(P){s.e(P)}finally{s.f()}var p,y=[],m=new Set,b=_(this.iroots());try{for(b.s();!(p=b.n()).done;){var g=p.value;if(!m.has(g.id)){m.add(g.id);var I=[g];y.push(I);for(var C=n.getThrow(g.id).slice(),k=void 0;k=C.pop();)m.has(k.id)||(m.add(k.id),I.push(k),C.push.apply(C,x(n.getThrow(k.id))))}}}catch(P){b.e(P)}finally{b.f()}return y.map((function(e){return e.length>1?new t(e):e[0]}))}},{key:"connected",value:function(){return 1===this.split().length}}]),t}();function D(t){if("string"!=typeof t)throw new Error("id is supposed to be string but got type ".concat(Object(f.a)(t)));if(t.indexOf("\0")>=0)throw new Error("node id ".concat(t," contained null character"));return t}function W(t){if(!t.length)throw new Error("dag contained no roots");var e=new Set,n=new Set,r=null;function i(t){if(e.has(t.id))return[];if(n.has(t.id))return r=t.id,[t.id];n.add(t.id);var a,o=[],s=_(t.ichildren());try{for(s.s();!(a=s.n()).done;){if((o=i(a.value)).length)break}}catch(l){s.e(l)}finally{s.f()}return n.delete(t.id),e.add(t.id),o.length&&null!==r&&o.push(t.id),r===t.id&&(r=null),o}var a,o=_(t);try{for(o.s();!(a=o.n()).done;){var s=i(a.value);if(s.length)throw new Error("dag contained a cycle: "+s.reverse().join(" -> "))}}catch(h){o.e(h)}finally{o.f()}var l,u=_(new X(t));try{for(u.s();!(l=u.n()).done;){var c=l.value;if(new Set(c.ichildren().map((function(t){return t.id}))).size!==c.dataChildren.length)throw new Error("node '".concat(c.id,"' contained duplicate children"))}}catch(h){u.e(h)}finally{u.f()}}function q(t,e,n){function r(e){if(!e.length)throw new Error("can't stratify empty data");var r=e.map((function(e,n){return new N(D(t(e,n)),e)})),i=new Map;r.forEach((function(t){if(i.has(t.id))throw new Error("found a duplicate id: ".concat(t.id));i.set(t.id,t)}));var a=[];return r.forEach((function(t,e){var r=n(t.data,e)||[];r.forEach((function(e){var n=w(e,2),r=n[0],a=n[1],o=i.get(r);if(!o)throw new Error("missing id: ".concat(r));return o.dataChildren.push(new R(t,a)),o})),r.length||a.push(t)})),W(a),a.length>1?new X(a):a[0]}return r.id=function(r){return void 0===r?t:q(r,e,n)},r.parentData=function(e){return void 0===e?n:q(t,function(t){function e(e,n){return(t(e,n)||[]).map((function(t){return w(t,1)[0]}))}return e.wrapped=t,e}(e),e)},r.parentIds=function(n){return void 0===n?e:q(t,n,F(n))},r}function F(t){function e(e,n){return(t(e,n)||[]).map((function(t){return[t,void 0]}))}return e.wrapped=t,e}function L(t){if(function(t){try{return"string"==typeof t.id}catch(e){return!1}}(t))return t.id;throw new Error("default id function expected datum to have an id field but got: ".concat(t))}function U(t){if(function(t){try{var e=t.parentIds;return void 0===e||e instanceof Array&&e.every((function(t){return"string"==typeof t}))}catch(n){return!1}}(t))return t.parentIds;throw new Error("default parentIds function expected datum to have a parentIds field but got: ".concat(t))}function H(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length)throw Error("got arguments to dagStratify(".concat(e,"), but constructor takes no aruguments. ")+"These were probably meant as data which should be called as dagStratify()(...)");return q(L,U,F(U))}function Q(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var Z,$,J=1e-60;do{Z=1+.1*(J+=J),$=1+.2*J}while(Z<=1||$<=1);var K=J;var G=function(t,e,n){for(var r,i,a=1;a<=n;a+=1){t[a][a]=1/t[a][a],i=-t[a][a];for(var o=1;o<a;o+=1)t[o][a]*=i;if(n<(r=a+1))break;for(var s=r;s<=n;s+=1){i=t[a][s],t[a][s]=0;for(var l=1;l<=a;l+=1)t[l][s]+=i*t[l][a]}}};var tt=function(t,e,n,r){var i,a;for(i=1;i<=n;i+=1){a=0;for(var o=1;o<i;o+=1)a+=t[o][i]*r[o];r[i]=(r[i]-a)/t[i][i]}for(var s=1;s<=n;s+=1){r[i=n+1-s]/=t[i][i],a=-r[i];for(var l=1;l<i;l+=1)r[l]+=a*t[l][i]}};var et=function(t,e,n,r){for(var i,a,o,s=1;s<=n;s+=1){if(r[1]=s,o=0,(i=s-1)<1){if((o=t[s][s]-o)<=0)break;t[s][s]=Math.sqrt(o)}else{for(var l=1;l<=i;l+=1){a=t[l][s];for(var u=1;u<l;u+=1)a-=t[u][s]*t[u][l];a/=t[l][l],t[l][s]=a,o+=a*a}if((o=t[s][s]-o)<=0)break;t[s][s]=Math.sqrt(o)}r[1]=0}};var nt=function(t,e,n,r,i,a,o,s,l,u,c,h,f){for(var d,v,p,y,m,b,g,w,x,I,C,k,P,S,M=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,T=arguments.length>14?arguments[14]:void 0,O=arguments.length>15?arguments[15]:void 0,_=arguments.length>16?arguments[16]:void 0,E=Math.min(r,c),B=2*r+E*(E+5)/2+2*c+1,V=1;V<=r;V+=1)O[V]=e[V];for(var j=r+1;j<=B;j+=1)O[j]=0;for(var A=1;A<=c;A+=1)f[A]=0,a[A]=0;var z=[];if(0===_[1]){if(et(t,n,r,z),0!==z[1])return void(_[1]=2);tt(t,n,r,e),G(t,n,r)}else{for(var R=1;R<=r;R+=1){i[R]=0;for(var Y=1;Y<=R;Y+=1)i[R]+=t[Y][R]*e[Y]}for(var N=1;N<=r;N+=1){e[N]=0;for(var X=N;X<=r;X+=1)e[N]+=t[N][X]*i[X]}}o[1]=0;for(var D=1;D<=r;D+=1){i[D]=e[D],o[1]+=O[D]*i[D],O[D]=0;for(var W=D+1;W<=r;W+=1)t[W][D]=0}o[1]=-o[1]/2,_[1]=0;for(var q=r,F=q+r,L=F+E,U=L+E+1,H=U+E*(E+1)/2,Q=H+c,Z=1;Z<=c;Z+=1){b=0;for(var $=1;$<=r;$+=1)b+=s[$][Z]*s[$][Z];O[Q+Z]=Math.sqrt(b)}function J(){T[1]+=1,B=H;for(var t=1;t<=c;t+=1){B+=1,b=-l[t];for(var e=1;e<=r;e+=1)b+=s[e][t]*i[e];if(Math.abs(b)<K&&(b=0),t>h)O[B]=b;else if(O[B]=-Math.abs(b),b>0){for(var n=1;n<=r;n+=1)s[n][t]=-s[n][t];l[t]=-l[t]}}for(var o=1;o<=y;o+=1)O[H+f[o]]=0;p=0,m=0;for(var u=1;u<=c;u+=1)O[H+u]<m*O[Q+u]&&(p=u,m=O[H+u]/O[Q+u]);if(0===p){for(var d=1;d<=y;d+=1)a[f[d]]=O[L+d];return 999}return 0}function nt(){for(var e=1;e<=r;e+=1){b=0;for(var n=1;n<=r;n+=1)b+=t[n][e]*s[n][p];O[e]=b}d=q;for(var a=1;a<=r;a+=1)O[d+a]=0;for(var u=y+1;u<=r;u+=1)for(var c=1;c<=r;c+=1)O[d+c]=O[d+c]+t[c][u]*O[u];k=!0;for(var S=y;S>=1;S-=1){b=O[S],d=(B=U+S*(S+3)/2)-S;for(var M=S+1;M<=y;M+=1)b-=O[B]*O[F+M],B+=M;b/=O[d],O[F+S]=b,f[S]<=h||(b<=0||(k=!1,v=S))}if(!k){g=O[L+v]/O[F+v];for(var T=1;T<=y;T+=1)f[T]<=h||O[F+T]<=0||(m=O[L+T]/O[F+T])<g&&(g=m,v=T)}b=0;for(var E=q+1;E<=q+r;E+=1)b+=O[E]*O[E];if(Math.abs(b)<=K){if(k)return _[1]=1,999;for(var V=1;V<=y;V+=1)O[L+V]=O[L+V]-g*O[F+V];return O[L+y+1]=O[L+y+1]+g,700}b=0;for(var j=1;j<=r;j+=1)b+=O[q+j]*s[j][p];w=-O[H+p]/b,P=!0,k||g<w&&(w=g,P=!1);for(var A=1;A<=r;A+=1)i[A]+=w*O[q+A],Math.abs(i[A])<K&&(i[A]=0);o[1]+=w*b*(w/2+O[L+y+1]);for(var z=1;z<=y;z+=1)O[L+z]=O[L+z]-w*O[F+z];if(O[L+y+1]=O[L+y+1]+w,!P){b=-l[p];for(var R=1;R<=r;R+=1)b+=i[R]*s[R][p];if(p>h)O[H+p]=b;else if(O[H+p]=-Math.abs(b),b>0){for(var Y=1;Y<=r;Y+=1)s[Y][p]=-s[Y][p];l[p]=-l[p]}return 700}f[y+=1]=p,B=U+(y-1)*y/2+1;for(var N=1;N<=y-1;N+=1)O[B]=O[N],B+=1;if(y===r)O[B]=O[r];else{for(var X=r;X>=y+1;X-=1)if(0!==O[X]&&(x=Math.max(Math.abs(O[X-1]),Math.abs(O[X])),I=Math.min(Math.abs(O[X-1]),Math.abs(O[X])),m=O[X-1]>=0?Math.abs(x*Math.sqrt(1+I*I/(x*x))):-Math.abs(x*Math.sqrt(1+I*I/(x*x))),x=O[X-1]/m,I=O[X]/m,1!==x))if(0===x){O[X-1]=I*m;for(var D=1;D<=r;D+=1)m=t[D][X-1],t[D][X-1]=t[D][X],t[D][X]=m}else{O[X-1]=m,C=I/(1+x);for(var W=1;W<=r;W+=1)m=x*t[W][X-1]+I*t[W][X],t[W][X]=C*(t[W][X-1]+m)-t[W][X],t[W][X-1]=m}O[B]=O[y]}return 0}function rt(){if(0===O[d=(B=U+v*(v+1)/2+1)+v])return 798;if(x=Math.max(Math.abs(O[d-1]),Math.abs(O[d])),I=Math.min(Math.abs(O[d-1]),Math.abs(O[d])),m=O[d-1]>=0?Math.abs(x*Math.sqrt(1+I*I/(x*x))):-Math.abs(x*Math.sqrt(1+I*I/(x*x))),x=O[d-1]/m,I=O[d]/m,1===x)return 798;if(0===x){for(var e=v+1;e<=y;e+=1)m=O[d-1],O[d-1]=O[d],O[d]=m,d+=e;for(var n=1;n<=r;n+=1)m=t[n][v],t[n][v]=t[n][v+1],t[n][v+1]=m}else{C=I/(1+x);for(var i=v+1;i<=y;i+=1)m=x*O[d-1]+I*O[d],O[d]=C*(O[d-1]+m)-O[d],O[d-1]=m,d+=i;for(var a=1;a<=r;a+=1)m=x*t[a][v]+I*t[a][v+1],t[a][v+1]=C*(t[a][v]+m)-t[a][v+1],t[a][v]=m}return 0}function it(){d=B-v;for(var t=1;t<=v;t+=1)O[d]=O[B],B+=1,d+=1;return O[L+v]=O[L+v+1],f[v]=f[v+1],(v+=1)<y?797:0}function at(){return O[L+y]=O[L+y+1],O[L+y+1]=0,f[y]=0,y-=1,T[2]+=1,0}for(y=M,T[1]=0,T[2]=0,S=0;;){if(999===(S=J()))return;for(;0!==(S=nt());){if(999===S)return;if(700===S)if(v===y)at();else{for(;rt(),797===(S=it()););at()}}}};var rt={solveQP:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],o=[],s=[],l=[],u=[],c=[],h=[],f="",d=t.length-1,v=n[1].length-1;if(!r)for(var p=1;p<=v;p+=1)r[p]=0;if(d!==t[1].length-1&&(f="Dmat is not symmetric!"),d!==e.length-1&&(f="Dmat and dvec are incompatible!"),d!==n.length-1&&(f="Amat and dvec are incompatible!"),v!==r.length-1&&(f="Amat and bvec are incompatible!"),(i>v||i<0)&&(f="Value of meq is invalid!"),""!==f)return{message:f};for(var y=1;y<=v;y+=1)s[y]=0,u[y]=0;for(var m=0,b=Math.min(d,v),g=1;g<=d;g+=1)l[g]=0;o[1]=0;for(var w=1;w<=2*d+b*(b+5)/2+2*v+1;w+=1)c[w]=0;for(var x=1;x<=2;x+=1)h[x]=0;return nt(t,e,d,d,l,u,o,n,r,d,v,i,s,m,h,c,a),1===a[1]&&(f="constraints are inconsistent, no solution!"),2===a[1]&&(f="matrix D in quadratic function is not positive definite!"),{solution:l,Lagrangian:u,value:o,unconstrained_solution:e,iterations:h,iact:s,message:f}}};function it(t,e,n,r,i){if(!e.length)return[];var a,o=[[0]],s=[0],l=[[0]],u=[0],c=_(t);try{for(c.s();!(a=c.n()).done;){var h=a.value,f=[0];f.push.apply(f,x(h)),o.push(f)}}catch(P){c.e(P)}finally{c.f()}s.push.apply(s,x(e)),l.push.apply(l,x(e.map((function(){return[0]}))));var d,v=_(n);try{for(v.s();!(d=v.n()).done;){var p,y=_(d.value.entries());try{for(y.s();!(p=y.n()).done;){var m=w(p.value,2),b=m[0],g=m[1];l[b+1].push(-g)}}catch(P){y.e(P)}finally{y.f()}}}catch(P){v.e(P)}finally{v.f()}u.push.apply(u,x(r.map((function(t){return-t}))));var I=rt.solveQP(o,s,l,u,i),C=I.solution,k=I.message;if(k.length)throw new Error("quadprog failed with: ".concat(k));return C.shift(),C}function at(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.pop(),t.pop(),t.forEach((function(t){return t.pop()})),n.forEach((function(t){return t.pop()}));var a=it(t,e,n,r,i);return a.push(0),a}function ot(t,e,n){var r,i=1+Math.max.apply(Math,x(e.values())),a=[],o=[],s=_(t);try{for(s.s();!(r=s.n()).done;){var l,u=h(r.value),c=u[0],f=_(u.slice(1));try{for(f.s();!(l=f.n()).done;){var d=l.value,v=e.getThrow(c.id),p=e.getThrow(d.id),y=new Array(i).fill(0);y[v]=1,y[p]=-1,a.push(y),o.push(-(n(c)[0]+n(d)[0])/2),c=d}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var m=new Array(i).fill(0);return[new Array(i).fill(null).map((function(){return new Array(i).fill(0)})),m,a,o]}function st(t,e,n,r){t[n][n]+=r,t[n][e]-=r,t[e][n]-=r,t[e][e]+=r}function lt(t,e,n,r,i){t[r][r]+=i,t[r][n]-=2*i,t[r][e]+=i,t[n][r]-=2*i,t[n][n]+=4*i,t[n][e]-=2*i,t[e][r]+=i,t[e][n]-=2*i,t[e][e]+=i}function ut(t,e,n,r){var i,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=_(t);try{for(s.s();!(i=s.n()).done;){var l=i.value,u=l[0],c=l[l.length-1];a=Math.min(a,r[n.getThrow(u.id)]-e(u)[0]/2),o=Math.max(o,r[n.getThrow(c.id)]+e(c)[0]/2)}}catch(y){s.e(y)}finally{s.f()}var h,f=_(t);try{for(f.s();!(h=f.n()).done;){var d,v=_(h.value);try{for(v.s();!(d=v.n()).done;){var p=d.value;p.x=r[n.getThrow(p.id)]-a}}catch(y){v.e(y)}finally{v.f()}}}catch(y){f.e(y)}finally{f.f()}return o-a}var ct=function(t){v(n,t);var e=O(n);function n(t){return k(this,n),e.call(this,t,void 0)}return n}(N);function ht(t){function e(e,n,r){var i,a=t.vertNode,o=t.vertDummy,s=t.curveNode,l=t.curveDummy,u=t.comp,c=function(t){var e,n=new z,r=0,i=_(t);try{for(i.s();!(e=i.n()).done;){var a,o=_(e.value);try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s.id,r++)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){i.e(l)}finally{i.f()}return n}(e),f=w(ot(e,c,n),4),d=f[0],v=f[1],p=f[2],y=f[3],m=_(e);try{for(m.s();!(i=m.n()).done;){var b,g=_(i.value);try{for(g.s();!(b=g.n()).done;){var x,I=b.value,C=c.getThrow(I.id),k=I instanceof ct?o:a,P=_(I.ichildren());try{for(P.s();!(x=P.n()).done;){var S=x.value,M=c.getThrow(S.id),T=S instanceof ct?l:s;st(d,C,M,k+(S instanceof ct?o:a));var O,E=_(S.ichildren());try{for(E.s();!(O=E.n()).done;){var B=O.value;lt(d,C,M,c.getThrow(B.id),T)}}catch(D){E.e(D)}finally{E.f()}}}catch(D){P.e(D)}finally{P.f()}}}catch(D){g.e(D)}finally{g.f()}}}catch(D){m.e(D)}finally{m.f()}var V,j=_(e);try{for(j.s();!(V=j.n()).done;){var A,R=h(V.value),Y=R[0],N=_(R.slice(1));try{for(N.s();!(A=N.n()).done;){var X=A.value;r.getThrow(Y.id)!==r.getThrow(X.id)&&st(d,c.getThrow(Y.id),c.getThrow(X.id),u),Y=X}}catch(D){N.e(D)}finally{N.f()}}}catch(D){j.e(D)}finally{j.f()}return ut(e,n,c,at(d,v,p,y))}function n(n,r){var i=t.vertNode,a=t.vertDummy,o=t.curveNode,s=t.curveDummy;if(0===i&&0===o)throw new Error("node vertical weight or node curve weight needs to be positive");if(0===a&&0===s)throw new Error("dummy vertical weight or dummy curve weight needs to be positive");var l=function(t){var e,n=new z,r=_(t.slice().reverse());try{for(r.s();!(e=r.n()).done;){var i,a=_(e.value);try{for(a.s();!(i=a.n()).done;){var o,s=i.value,l=_(s.ichildren());try{for(l.s();!(o=l.n()).done;){var u=o.value;n.delete(u.id)}}catch(g){l.e(g)}finally{l.f()}n.set(s.id,s)}}catch(g){a.e(g)}finally{a.f()}}}catch(g){r.e(g)}finally{r.f()}var c,h=new X(x(n.values())).split(),f=new z,d=_(h.entries());try{for(d.s();!(c=d.n()).done;){var v,p=w(c.value,2),y=p[0],m=_(p[1]);try{for(m.s();!(v=m.n()).done;){var b=v.value;f.set(b.id,y)}}catch(g){m.e(g)}finally{m.f()}}}catch(g){d.e(g)}finally{d.f()}return f}(n),u=function(t,e){var n,r=[],i=[],a=new Set,o=_(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=new Set(s.map((function(t){return e.getThrow(t.id)})));A(a,l)||r.push(i=[]),i.push(s),a=l}}catch(u){o.e(u)}finally{o.f()}return r}(n,l),c=u.map((function(t){return e(t,r,l)})),h=Math.max.apply(Math,x(c));if(h<=0)throw new Error("must assign nonzero width to at least one node");var f,d=_(u.entries());try{for(d.s();!(f=d.n()).done;){var v,p=w(f.value,2),y=p[0],m=p[1],b=(h-c[y])/2,g=_(m);try{for(g.s();!(v=g.n()).done;){var I,C=_(v.value);try{for(C.s();!(I=C.n()).done;){var k=I.value;k.x=j(k.x)+b}}catch(P){C.e(P)}finally{C.f()}}}catch(P){g.e(P)}finally{g.f()}}}catch(P){d.e(P)}finally{d.f()}return h}return n.vertical=function(e){if(void 0===e)return[t.vertNode,t.vertDummy];var n=w(e,2),r=n[0],i=n[1];if(r<0||i<0)throw new Error("weights must be non-negative, but were ".concat(r," and ").concat(i));return ht(Object.assign(Object.assign({},t),{vertNode:r,vertDummy:i}))},n.curve=function(e){if(void 0===e)return[t.curveNode,t.curveDummy];var n=w(e,2),r=n[0],i=n[1];if(r<0||i<0)throw new Error("weights must be non-negative, but were ".concat(r," and ").concat(i));return ht(Object.assign(Object.assign({},t),{curveNode:r,curveDummy:i}))},n.component=function(e){if(void 0===e)return t.comp;if(e<=0)throw new Error("weight must be positive, but was ".concat(e));return ht(Object.assign(Object.assign({},t),{comp:e}))},n}function ft(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length)throw new Error("got arguments to quad(".concat(e,"), but constructor takes no aruguments."));return ht({vertNode:1,vertDummy:0,curveNode:0,curveDummy:1,comp:1})}function dt(t,e,n,r){this.feasible=n,this.evaluation=e,this.bounded=r,this._tableau=t}var vt=dt;function pt(t,e,n,r,i){vt.call(this,t,e,n,r),this.iter=i}dt.prototype.generateSolutionSet=function(){for(var t={},e=this._tableau,n=e.varIndexByRow,r=e.variablesPerIndex,i=e.matrix,a=e.rhsColumn,o=e.height-1,s=Math.round(1/e.precision),l=1;l<=o;l+=1){var u=r[n[l]];if(void 0!==u&&!0!==u.isSlack){var c=i[l][a];t[u.id]=Math.round((Number.EPSILON+c)*s)/s}}return t};var yt=pt;function mt(t){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=t||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}pt.prototype=Object.create(vt.prototype),pt.constructor=pt;var bt=mt;function gt(t,e){this.priority=t,this.reducedCosts=new Array(e);for(var n=0;n<e;n+=1)this.reducedCosts[n]=0}mt.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},gt.prototype.copy=function(){var t=new gt(this.priority,this.reducedCosts.length);return t.reducedCosts=this.reducedCosts.slice(),t},mt.prototype.setOptionalObjective=function(t,e,n){var r=this.objectivesByPriority[t];void 0===r&&(r=new gt(t,Math.max(this.width,e+1)),this.objectivesByPriority[t]=r,this.optionalObjectives.push(r),this.optionalObjectives.sort((function(t,e){return t.priority-e.priority})));r.reducedCosts[e]=n},mt.prototype.initialize=function(t,e,n,r){this.variables=n,this.unrestrictedVars=r,this.width=t,this.height=e;for(var i=new Array(t),a=0;a<t;a++)i[a]=0;this.matrix=new Array(e);for(var o=0;o<e;o++)this.matrix[o]=i.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars},mt.prototype._resetMatrix=function(){var t,e,n=this.model.variables,r=this.model.constraints,i=n.length,a=r.length,o=this.matrix[0],s=!0===this.model.isMinimization?-1:1;for(t=0;t<i;t+=1){var l=n[t],u=l.priority,c=s*l.cost;0===u?o[t+1]=c:this.setOptionalObjective(u,t+1,c),e=n[t].index,this.rowByVarIndex[e]=-1,this.colByVarIndex[e]=t+1,this.varIndexByCol[t+1]=e}for(var h=1,f=0;f<a;f+=1){var d,v,p=r[f],y=p.index;this.rowByVarIndex[y]=h,this.colByVarIndex[y]=-1,this.varIndexByRow[h]=y;var m=p.terms,b=m.length,g=this.matrix[h++];if(p.isUpperBound){for(d=0;d<b;d+=1)v=m[d],g[this.colByVarIndex[v.variable.index]]=v.coefficient;g[0]=p.rhs}else{for(d=0;d<b;d+=1)v=m[d],g[this.colByVarIndex[v.variable.index]]=-v.coefficient;g[0]=-p.rhs}}},mt.prototype.setModel=function(t){this.model=t;var e=t.nVariables+1,n=t.nConstraints+1;return this.initialize(e,n,t.variables,t.unrestrictedVariables),this._resetMatrix(),this},mt.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},mt.prototype.density=function(){for(var t=0,e=this.matrix,n=0;n<this.height;n++)for(var r=e[n],i=0;i<this.width;i++)0!==r[i]&&(t+=1);return t/(this.height*this.width)},mt.prototype.setEvaluation=function(){var t=Math.round(1/this.precision),e=this.matrix[this.costRowIndex][this.rhsColumn],n=Math.round((Number.EPSILON+e)*t)/t;this.evaluation=n,0===this.simplexIters&&(this.bestPossibleEval=n)},mt.prototype.getSolution=function(){var t=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new yt(this,t,this.feasible,this.bounded,this.branchAndCutIterations):new vt(this,t,this.feasible,this.bounded)},bt.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},bt.prototype.phase1=function(){for(var t=this.model.checkForCycles,e=[],n=this.matrix,r=this.rhsColumn,i=this.width-1,a=this.height-1,o=0;;){for(var s=0,l=-this.precision,u=1;u<=a;u++){!0===this.unrestrictedVars[this.varIndexByRow[u]];var c=n[u][r];c<l&&(l=c,s=u)}if(0===s)return this.feasible=!0,o;for(var h=0,f=-1/0,d=n[0],v=n[s],p=1;p<=i;p++){var y=v[p];if(!0===this.unrestrictedVars[this.varIndexByCol[p]]||y<-this.precision){var m=-d[p]/y;f<m&&(f=m,h=p)}}if(0===h)return this.feasible=!1,o;if(t){e.push([this.varIndexByRow[s],this.varIndexByCol[h]]);var b=this.checkForCycles(e);if(b.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+b[0]),this.model.messages.push("Length :"+b[1]),this.feasible=!1,o}this.pivot(s,h),o+=1}},bt.prototype.phase2=function(){for(var t,e,n=this.model.checkForCycles,r=[],i=this.matrix,a=this.rhsColumn,o=this.width-1,s=this.height-1,l=this.precision,u=this.optionalObjectives.length,c=null,h=0;;){var f=i[this.costRowIndex];u>0&&(c=[]);for(var d=0,v=l,p=!1,y=1;y<=o;y++)t=f[y],e=!0===this.unrestrictedVars[this.varIndexByCol[y]],u>0&&-l<t&&t<l?c.push(y):e&&t<0?-t>v&&(v=-t,d=y,p=!0):t>v&&(v=t,d=y,p=!1);if(u>0)for(var m=0;0===d&&c.length>0&&m<u;){var b=[],g=this.optionalObjectives[m].reducedCosts;v=l;for(var w=0;w<c.length;w++)t=g[y=c[w]],e=!0===this.unrestrictedVars[this.varIndexByCol[y]],-l<t&&t<l?b.push(y):e&&t<0?-t>v&&(v=-t,d=y,p=!0):t>v&&(v=t,d=y,p=!1);c=b,m+=1}if(0===d)return this.setEvaluation(),this.simplexIters+=1,h;var x=0,I=1/0;this.varIndexByRow;for(var C=1;C<=s;C++){var k=i[C],P=k[a],S=k[d];if(!(-l<S&&S<l)){if(S>0&&l>P&&P>-l){I=0,x=C;break}var M=p?-P/S:P/S;M>l&&I>M&&(I=M,x=C)}}if(I===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[d],h;if(n){r.push([this.varIndexByRow[x],this.varIndexByCol[d]]);var T=this.checkForCycles(r);if(T.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+T[0]),this.model.messages.push("Length :"+T[1]),this.feasible=!1,h}this.pivot(x,d,!0),h+=1}};var wt=[];function xt(t,e,n,r){this.id=t,this.cost=e,this.index=n,this.value=0,this.priority=r}function It(t,e,n,r){xt.call(this,t,e,n,r)}function Ct(t,e){xt.call(this,t,0,e,0)}function kt(t,e){this.variable=t,this.coefficient=e}function Pt(t,e,n){return 0===n||"required"===n?null:(e=e||1,n=n||1,!1===t.isMinimization&&(e=-e),t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,n))}function St(t,e,n,r){this.slack=new Ct("s"+n,n),this.index=n,this.model=r,this.rhs=t,this.isUpperBound=e,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function Mt(t,e){this.upperBound=t,this.lowerBound=e,this.model=t.model,this.rhs=t.rhs,this.relaxation=null}bt.prototype.pivot=function(t,e){var n=this.matrix,r=n[t][e],i=this.height-1,a=this.width-1,o=this.varIndexByRow[t],s=this.varIndexByCol[e];this.varIndexByRow[t]=s,this.varIndexByCol[e]=o,this.rowByVarIndex[s]=t,this.rowByVarIndex[o]=-1,this.colByVarIndex[s]=-1,this.colByVarIndex[o]=e;for(var l,u,c,h=n[t],f=0,d=0;d<=a;d++)h[d]>=-1e-16&&h[d]<=1e-16?h[d]=0:(h[d]/=r,wt[f]=d,f+=1);h[e]=1/r,this.precision;for(var v=0;v<=i;v++)if(v!==t&&!(n[v][e]>=-1e-16&&n[v][e]<=1e-16)){var p=n[v];if((l=p[e])>=-1e-16&&l<=1e-16)0!==l&&(p[e]=0);else{for(u=0;u<f;u++)(c=h[d=wt[u]])>=-1e-16&&c<=1e-16?0!==c&&(h[d]=0):p[d]=p[d]-l*c;p[e]=-l/r}}var y=this.optionalObjectives.length;if(y>0)for(var m=0;m<y;m+=1){var b=this.optionalObjectives[m].reducedCosts;if(0!==(l=b[e])){for(u=0;u<f;u++)0!==(c=h[d=wt[u]])&&(b[d]=b[d]-l*c);b[e]=-l/r}}},bt.prototype.checkForCycles=function(t){for(var e=0;e<t.length-1;e++)for(var n=e+1;n<t.length;n++){var r=t[e],i=t[n];if(r[0]===i[0]&&r[1]===i[1]){if(n-e>t.length-n)break;for(var a=!0,o=1;o<n-e;o++){var s=t[e+o],l=t[n+o];if(s[0]!==l[0]||s[1]!==l[1]){a=!1;break}}if(a)return[e,n-e]}}return[]},It.prototype.isInteger=!0,Ct.prototype.isSlack=!0,St.prototype.addTerm=function(t,e){var n=e.index,r=this.termsByVarIndex[n];if(void 0===r)r=new kt(e,t),this.termsByVarIndex[n]=r,this.terms.push(r),!0===this.isUpperBound&&(t=-t),this.model.updateConstraintCoefficient(this,e,t);else{var i=r.coefficient+t;this.setVariableCoefficient(i,e)}return this},St.prototype.removeTerm=function(t){return this},St.prototype.setRightHandSide=function(t){if(t!==this.rhs){var e=t-this.rhs;!0===this.isUpperBound&&(e=-e),this.rhs=t,this.model.updateRightHandSide(this,e)}return this},St.prototype.setVariableCoefficient=function(t,e){var n=e.index;if(-1!==n){var r=this.termsByVarIndex[n];if(void 0===r)this.addTerm(t,e);else if(t!==r.coefficient){var i=t-r.coefficient;!0===this.isUpperBound&&(i=-i),r.coefficient=t,this.model.updateConstraintCoefficient(this,e,i)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")},St.prototype.relax=function(t,e){this.relaxation=Pt(this.model,t,e),this._relax(this.relaxation)},St.prototype._relax=function(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))},Mt.prototype.isEquality=!0,Mt.prototype.addTerm=function(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this},Mt.prototype.removeTerm=function(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this},Mt.prototype.setRightHandSide=function(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t},Mt.prototype.relax=function(t,e){this.relaxation=Pt(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)};var Tt={Constraint:St,Variable:xt,IntegerVariable:It,SlackVariable:Ct,Equality:Mt,Term:kt},Ot=Tt.SlackVariable;function _t(t,e){this.index=t,this.value=e}bt.prototype.addCutConstraints=function(t){for(var e,n=t.length,r=this.height,i=r+n,a=r;a<i;a+=1)void 0===this.matrix[a]&&(this.matrix[a]=this.matrix[a-1].slice());this.height=i,this.nVars=this.width+this.height-2;for(var o=this.width-1,s=0;s<n;s+=1){var l=t[s],u=r+s,c="min"===l.type?-1:1,h=l.varIndex,f=this.rowByVarIndex[h],d=this.matrix[u];if(-1===f){for(d[this.rhsColumn]=c*l.value,e=1;e<=o;e+=1)d[e]=0;d[this.colByVarIndex[h]]=c}else{var v=this.matrix[f],p=v[this.rhsColumn];for(d[this.rhsColumn]=c*(l.value-p),e=1;e<=o;e+=1)d[e]=-c*v[e]}var y=this.getNewElementIndex();this.varIndexByRow[u]=y,this.rowByVarIndex[y]=u,this.colByVarIndex[y]=-1,this.variablesPerIndex[y]=new Ot("s"+y,y),this.nVars+=1}},bt.prototype._addLowerBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var e=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var n=e[t][this.rhsColumn],r=n-Math.floor(n);if(r<this.precision||1-this.precision<r)return!1;var i=this.height;e[i]=e[i-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[i]=a,this.rowByVarIndex[a]=i,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new Ot("s"+a,a),e[i][this.rhsColumn]=Math.floor(n);for(var o=1;o<this.varIndexByCol.length;o+=1){if(this.variablesPerIndex[this.varIndexByCol[o]].isInteger){var s=e[t][o],l=Math.floor(s)+Math.max(0,s-Math.floor(s)-r)/(1-r);e[i][o]=l}else e[i][o]=Math.min(0,e[t][o]/(1-r))}for(var u=0;u<this.width;u+=1)e[i][u]-=e[t][u];return!0},bt.prototype._addUpperBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;this.model;var e=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[t]].isInteger)return!1;var n=e[t][this.rhsColumn],r=n-Math.floor(n);if(r<this.precision||1-this.precision<r)return!1;var i=this.height;e[i]=e[i-1].slice(),this.height+=1,this.nVars+=1;var a=this.getNewElementIndex();this.varIndexByRow[i]=a,this.rowByVarIndex[a]=i,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new Ot("s"+a,a),e[i][this.rhsColumn]=-r;for(var o=1;o<this.varIndexByCol.length;o+=1){var s=this.variablesPerIndex[this.varIndexByCol[o]],l=e[t][o],u=l-Math.floor(l);s.isInteger?e[i][o]=u<=r?-u:-(1-u)*r/u:e[i][o]=l>=0?-l:l*r/(1-r)}return!0},bt.prototype.applyMIRCuts=function(){},bt.prototype._putInBase=function(t){var e=this.rowByVarIndex[t];if(-1===e){for(var n=this.colByVarIndex[t],r=1;r<this.height;r+=1){var i=this.matrix[r][n];if(i<-this.precision||this.precision<i){e=r;break}}this.pivot(e,n)}return e},bt.prototype._takeOutOfBase=function(t){var e=this.colByVarIndex[t];if(-1===e){for(var n=this.rowByVarIndex[t],r=this.matrix[n],i=1;i<this.height;i+=1){var a=r[i];if(a<-this.precision||this.precision<a){e=i;break}}this.pivot(n,e)}return e},bt.prototype.updateVariableValues=function(){for(var t=this.variables.length,e=Math.round(1/this.precision),n=0;n<t;n+=1){var r=this.variables[n],i=r.index,a=this.rowByVarIndex[i];if(-1===a)r.value=0;else{var o=this.matrix[a][this.rhsColumn];r.value=Math.round((o+Number.EPSILON)*e)/e}}},bt.prototype.updateRightHandSide=function(t,e){var n=this.height-1,r=this.rowByVarIndex[t.index];if(-1===r){for(var i=this.colByVarIndex[t.index],a=0;a<=n;a+=1){var o=this.matrix[a];o[this.rhsColumn]-=e*o[i]}var s=this.optionalObjectives.length;if(s>0)for(var l=0;l<s;l+=1){var u=this.optionalObjectives[l].reducedCosts;u[this.rhsColumn]-=e*u[i]}}else this.matrix[r][this.rhsColumn]-=e},bt.prototype.updateConstraintCoefficient=function(t,e,n){if(t.index===e.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var r=this._putInBase(t.index),i=this.colByVarIndex[e.index];if(-1===i)for(var a=this.rowByVarIndex[e.index],o=0;o<this.width;o+=1)this.matrix[r][o]+=n*this.matrix[a][o];else this.matrix[r][i]-=n},bt.prototype.updateCost=function(t,e){var n=t.index,r=this.width-1,i=this.colByVarIndex[n];if(-1===i){var a,o=this.matrix[this.rowByVarIndex[n]];if(0===t.priority){var s=this.matrix[0];for(a=0;a<=r;a+=1)s[a]+=e*o[a]}else{var l=this.objectivesByPriority[t.priority].reducedCosts;for(a=0;a<=r;a+=1)l[a]+=e*o[a]}}else this.matrix[0][i]-=e},bt.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,n=this.height,r=this.matrix[n];void 0===r&&(r=this.matrix[0].slice(),this.matrix[n]=r);for(var i=this.width-1,a=0;a<=i;a+=1)r[a]=0;r[this.rhsColumn]=e*t.rhs;for(var o=t.terms,s=o.length,l=0;l<s;l+=1){var u=o[l],c=u.coefficient,h=u.variable.index,f=this.rowByVarIndex[h];if(-1===f)r[this.colByVarIndex[h]]+=e*c;else{var d=this.matrix[f];for(d[this.rhsColumn],a=0;a<=i;a+=1)r[a]-=e*c*d[a]}}var v=t.index;this.varIndexByRow[n]=v,this.rowByVarIndex[v]=n,this.colByVarIndex[v]=-1,this.height+=1},bt.prototype.removeConstraint=function(t){var e=t.index,n=this.height-1,r=this._putInBase(e),i=this.matrix[n];this.matrix[n]=this.matrix[r],this.matrix[r]=i,this.varIndexByRow[r]=this.varIndexByRow[n],this.varIndexByRow[n]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,this.height-=1},bt.prototype.addVariable=function(t){var e=this.height-1,n=this.width,r=!0===this.model.isMinimization?-t.cost:t.cost,i=t.priority,a=this.optionalObjectives.length;if(a>0)for(var o=0;o<a;o+=1)this.optionalObjectives[o].reducedCosts[n]=0;0===i?this.matrix[0][n]=r:(this.setOptionalObjective(i,n,r),this.matrix[0][n]=0);for(var s=1;s<=e;s+=1)this.matrix[s][n]=0;var l=t.index;this.varIndexByCol[n]=l,this.rowByVarIndex[l]=-1,this.colByVarIndex[l]=n,this.width+=1},bt.prototype.removeVariable=function(t){var e=t.index,n=this._takeOutOfBase(e),r=this.width-1;if(n!==r){for(var i=this.height-1,a=0;a<=i;a+=1){var o=this.matrix[a];o[n]=o[r]}var s=this.optionalObjectives.length;if(s>0)for(var l=0;l<s;l+=1){var u=this.optionalObjectives[l].reducedCosts;u[n]=u[r]}var c=this.varIndexByCol[r];this.varIndexByCol[n]=c,this.colByVarIndex[c]=n}this.varIndexByCol[r]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,this.width-=1},bt.prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var n,r,i,a,o,s,l,u,c,h,f="",d=[" "];for(r=1;r<this.width;r+=1)o=this.varIndexByCol[r],l=" ",u="\t",(s=void 0===(a=this.variablesPerIndex[o])?"c"+o:a.id).length>5?l+=" ":u+="\t",d[r]=l,f+=u+s;console.log(f);var v=this.matrix[this.costRowIndex],p="\t";for(n=1;n<this.width;n+=1)p+="\t",p+=d[n],p+=v[n].toFixed(5);for(p+="\t"+d[0]+v[0].toFixed(5),console.log(p+"\tZ"),i=1;i<this.height;i+=1){for(c=this.matrix[i],h="\t",r=1;r<this.width;r+=1)h+="\t"+d[r]+c[r].toFixed(5);h+="\t"+d[0]+c[0].toFixed(5),o=this.varIndexByRow[i],s=void 0===(a=this.variablesPerIndex[o])?"c"+o:a.id,console.log(h+"\t"+s)}console.log("");var y=this.optionalObjectives.length;if(y>0){console.log("    Optional objectives:");for(var m=0;m<y;m+=1){var b=this.optionalObjectives[m].reducedCosts,g="";for(n=1;n<this.width;n+=1)g+=b[n]<0?"":" ",g+=d[n],g+=b[n].toFixed(5);g+=(b[0]<0?"":" ")+d[0]+b[0].toFixed(5),console.log(g+" z"+m)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this},bt.prototype.copy=function(){var t=new bt(this.precision);t.width=this.width,t.height=this.height,t.nVars=this.nVars,t.model=this.model,t.variables=this.variables,t.variablesPerIndex=this.variablesPerIndex,t.unrestrictedVars=this.unrestrictedVars,t.lastElementIndex=this.lastElementIndex,t.varIndexByRow=this.varIndexByRow.slice(),t.varIndexByCol=this.varIndexByCol.slice(),t.rowByVarIndex=this.rowByVarIndex.slice(),t.colByVarIndex=this.colByVarIndex.slice(),t.availableIndexes=this.availableIndexes.slice();for(var e=[],n=0;n<this.optionalObjectives.length;n++)e[n]=this.optionalObjectives[n].copy();t.optionalObjectives=e;for(var r=this.matrix,i=new Array(this.height),a=0;a<this.height;a++)i[a]=r[a].slice();return t.matrix=i,t},bt.prototype.save=function(){this.savedState=this.copy()},bt.prototype.restore=function(){if(null!==this.savedState){var t,e,n=this.savedState,r=n.matrix;for(this.nVars=n.nVars,this.model=n.model,this.variables=n.variables,this.variablesPerIndex=n.variablesPerIndex,this.unrestrictedVars=n.unrestrictedVars,this.lastElementIndex=n.lastElementIndex,this.width=n.width,this.height=n.height,t=0;t<this.height;t+=1){var i=r[t],a=this.matrix[t];for(e=0;e<this.width;e+=1)a[e]=i[e]}var o=n.varIndexByRow;for(e=0;e<this.height;e+=1)this.varIndexByRow[e]=o[e];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var s=n.varIndexByCol;for(t=0;t<this.width;t+=1)this.varIndexByCol[t]=s[t];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var l=n.rowByVarIndex,u=n.colByVarIndex,c=0;c<this.nVars;c+=1)this.rowByVarIndex[c]=l[c],this.colByVarIndex[c]=u[c];if(n.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var h=0;h<n.optionalObjectives.length;h++){var f=n.optionalObjectives[h].copy();this.optionalObjectives[h]=f,this.optionalObjectivePerPriority[f.priority]=f}}}},bt.prototype.getMostFractionalVar=function(){for(var t=0,e=null,n=null,r=this.model.integerVariables,i=r.length,a=0;a<i;a++){var o=r[a].index,s=this.rowByVarIndex[o];if(-1!==s){var l=this.matrix[s][this.rhsColumn],u=Math.abs(l-Math.round(l));t<u&&(t=u,e=o,n=l)}}return new _t(e,n)},bt.prototype.getFractionalVarWithLowestCost=function(){for(var t=1/0,e=null,n=null,r=this.model.integerVariables,i=r.length,a=0;a<i;a++){var o=r[a],s=o.index,l=this.rowByVarIndex[s];if(-1!==l){var u=this.matrix[l][this.rhsColumn];if(Math.abs(u-Math.round(u))>this.precision){var c=o.cost;t>c&&(t=c,e=s,n=u)}}}return new _t(e,n)},bt.prototype.countIntegerValues=function(){for(var t=0,e=1;e<this.height;e+=1)if(this.variablesPerIndex[this.varIndexByRow[e]].isInteger){var n=this.matrix[e][this.rhsColumn];(n-=Math.floor(n))<this.precision&&-n<this.precision&&(t+=1)}return t},bt.prototype.isIntegral=function(){for(var t=this.model.integerVariables,e=t.length,n=0;n<e;n++){var r=this.rowByVarIndex[t[n].index];if(-1!==r){var i=this.matrix[r][this.rhsColumn];if(Math.abs(i-Math.round(i))>this.precision)return!1}}return!0},bt.prototype.computeFractionalVolume=function(t){for(var e=-1,n=1;n<this.height;n+=1)if(this.variablesPerIndex[this.varIndexByRow[n]].isInteger){var r=this.matrix[n][this.rhsColumn];if(r=Math.abs(r),Math.min(r-Math.floor(r),Math.floor(r+1))<this.precision){if(!t)return 0}else-1===e?e=r:e*=r}return-1===e?0:e};var Et=bt;function Bt(t,e,n){this.type=t,this.varIndex=e,this.value=n}function Vt(t,e){this.relaxedEvaluation=t,this.cuts=e}function jt(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}bt.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts)for(var e=!0;e;){var n=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*n&&(e=!1)}},bt.prototype.branchAndCut=function(){var t=[],e=0,n=this.model.tolerance,r=!0,i=1e99;this.model.timeout&&(i=Date.now()+this.model.timeout);for(var a=1/0,o=null,s=[],l=0;l<this.optionalObjectives.length;l+=1)s.push(1/0);var u,c=new Vt(-1/0,[]);for(t.push(c);t.length>0&&!0===r&&Date.now()<i;)if(u=this.model.isMinimization?this.bestPossibleEval*(1+n):this.bestPossibleEval*(1-n),n>0&&a<u&&(r=!1),!((c=t.pop()).relaxedEvaluation>a)){var h=c.cuts;if(this.applyCuts(h),e++,!1!==this.feasible){var f=this.evaluation;if(!(f>a)){if(f===a){for(var d=!0,v=0;v<this.optionalObjectives.length&&!(this.optionalObjectives[v].reducedCosts[0]>s[v]);v+=1)if(this.optionalObjectives[v].reducedCosts[0]<s[v]){d=!1;break}if(d)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===e)return void(this.branchAndCutIterations=e);o=c,a=f;for(var p=0;p<this.optionalObjectives.length;p+=1)s[p]=this.optionalObjectives[p].reducedCosts[0]}else{1===e&&this.save();for(var y=this.getMostFractionalVar(),m=y.index,b=[],g=[],w=h.length,x=0;x<w;x+=1){var I=h[x];I.varIndex===m?"min"===I.type?g.push(I):b.push(I):(b.push(I),g.push(I))}var C=Math.ceil(y.value),k=Math.floor(y.value),P=new Bt("min",m,C);b.push(P);var S=new Bt("max",m,k);g.push(S),t.push(new Vt(f,b)),t.push(new Vt(f,g)),t.sort(jt)}}}}null!==o&&this.applyCuts(o.cuts),this.branchAndCutIterations=e};var At={},zt=Tt.Constraint,Rt=Tt.Equality,Yt=Tt.Variable,Nt=Tt.IntegerVariable;function Xt(t,e){this.tableau=new bt(t),this.name=e,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}var Dt=Xt;Xt.prototype.minimize=function(){return this.isMinimization=!0,this},Xt.prototype.maximize=function(){return this.isMinimization=!1,this},Xt.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t},Xt.prototype._addConstraint=function(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(t)},Xt.prototype.smallerThan=function(t){var e=new zt(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},Xt.prototype.greaterThan=function(t){var e=new zt(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e},Xt.prototype.equal=function(t){var e=new zt(t,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(e);var n=new zt(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(n),new Rt(e,n)},Xt.prototype.addVariable=function(t,e,n,r,i){if("string"==typeof i)switch(i){case"required":i=0;break;case"strong":i=1;break;case"medium":i=2;break;case"weak":i=3;break;default:i=0}var a,o=this.tableau.getNewElementIndex();return null==e&&(e="v"+o),null==t&&(t=0),null==i&&(i=0),n?(a=new Nt(e,t,o,i),this.integerVariables.push(a)):a=new Yt(e,t,o,i),this.variables.push(a),this.tableau.variablesPerIndex[o]=a,r&&(this.unrestrictedVariables[o]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(a),a},Xt.prototype._removeConstraint=function(t){var e=this.constraints.indexOf(t);-1!==e?(this.constraints.splice(e,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")},Xt.prototype.removeConstraint=function(t){return t.isEquality?(this._removeConstraint(t.upperBound),this._removeConstraint(t.lowerBound)):this._removeConstraint(t),this},Xt.prototype.removeVariable=function(t){var e=this.variables.indexOf(t);if(-1!==e)return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this;console.warn("[Model.removeVariable] Variable not present in model")},Xt.prototype.updateRightHandSide=function(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this},Xt.prototype.updateConstraintCoefficient=function(t,e,n){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,n),this},Xt.prototype.setCost=function(t,e){var n=t-e.cost;return!1===this.isMinimization&&(n=-n),e.cost=t,this.tableau.updateCost(e,n),this},Xt.prototype.loadJson=function(t){this.isMinimization="max"!==t.opType;for(var e=t.variables,n=t.constraints,r={},i={},a=Object.keys(n),o=a.length,s=0;s<o;s+=1){var l,u,c=a[s],h=n[c],f=h.equal,d=h.weight,v=h.priority,p=void 0!==d||void 0!==v;if(void 0===f){var y=h.min;void 0!==y&&(l=this.greaterThan(y),r[c]=l,p&&l.relax(d,v));var m=h.max;void 0!==m&&(u=this.smallerThan(m),i[c]=u,p&&u.relax(d,v))}else{l=this.greaterThan(f),r[c]=l,u=this.smallerThan(f),i[c]=u;var b=new Rt(l,u);p&&b.relax(d,v)}}var g=Object.keys(e),w=g.length;this.tolerance=t.tolerance||0,t.timeout&&(this.timeout=t.timeout),t.options&&(t.options.timeout&&(this.timeout=t.options.timeout),0===this.tolerance&&(this.tolerance=t.options.tolerance||0),t.options.useMIRCuts&&(this.useMIRCuts=t.options.useMIRCuts),void 0===t.options.exitOnCycles?this.checkForCycles=!0:this.checkForCycles=t.options.exitOnCycles);for(var x=t.ints||{},I=t.binaries||{},C=t.unrestricted||{},k=t.optimize,P=0;P<w;P+=1){var S=g[P],M=e[S],T=M[k]||0,O=!!I[S],_=!!x[S]||O,E=!!C[S],B=this.addVariable(T,S,_,E);O&&this.smallerThan(1).addTerm(1,B);var V=Object.keys(M);for(s=0;s<V.length;s+=1){var j=V[s];if(j!==k){var A=M[j],z=r[j];void 0!==z&&z.addTerm(A,B);var R=i[j];void 0!==R&&R.addTerm(A,B)}}}return this},Xt.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},Xt.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},Xt.prototype.isFeasible=function(){return this.tableau.feasible},Xt.prototype.save=function(){return this.tableau.save()},Xt.prototype.restore=function(){return this.tableau.restore()},Xt.prototype.activateMIRCuts=function(t){this.useMIRCuts=t},Xt.prototype.debug=function(t){this.checkForCycles=t},Xt.prototype.log=function(t){return this.tableau.log(t)};var Wt={CleanObjectiveAttributes:function(t){var e,n,r;if("string"==typeof t.optimize){if(t.constraints[t.optimize]){for(n in e=Math.random(),t.variables)t.variables[n][t.optimize]&&(t.variables[n][e]=t.variables[n][t.optimize]);return t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize],t}return t}for(r in t.optimize)if(t.constraints[r])if("equal"===t.constraints[r])delete t.optimize[r];else{for(n in e=Math.random(),t.variables)t.variables[n][r]&&(t.variables[n][e]=t.variables[n][r]);t.constraints[e]=t.constraints[r],delete t.constraints[r]}return t}};var qt=function(t){return t.length?function(t){var e={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},n={opType:"",optimize:"_obj",constraints:{},variables:{}},r={">=":"min","<=":"max","=":"equal"},i="",a=null,o="",s="",l="",u=0;"string"==typeof t&&(t=t.split("\n"));for(var c=0;c<t.length;c++)if(l="__"+c,i=t[c],a=null,e.is_objective.test(i))n.opType=i.match(/(max|min)/gi)[0],(a=i.match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")})).slice(1)).forEach((function(t){o=null===(o=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:o[0],o=parseFloat(o),s=t.match(e.get_word)[0].replace(/\;$/,""),n.variables[s]=n.variables[s]||{},n.variables[s]._obj=o}));else if(e.is_int.test(i))a=i.match(e.parse_int).slice(1),n.ints=n.ints||{},a.forEach((function(t){t=t.replace(";",""),n.ints[t]=1}));else if(e.is_bin.test(i))a=i.match(e.parse_bin).slice(1),n.binaries=n.binaries||{},a.forEach((function(t){t=t.replace(";",""),n.binaries[t]=1}));else if(e.is_constraint.test(i)){var h=i.indexOf(":");(a=(-1===h?i:i.slice(h+1)).match(e.parse_lhs).map((function(t){return t.replace(/\s+/,"")}))).forEach((function(t){o=null===(o=t.match(e.get_num))?"-"===t.substr(0,1)?-1:1:o[0],o=parseFloat(o),s=t.match(e.get_word)[0],n.variables[s]=n.variables[s]||{},n.variables[s][l]=o})),u=parseFloat(i.match(e.parse_rhs)[0]),i=r[i.match(e.parse_dir)[0]],n.constraints[l]=n.constraints[l]||{},n.constraints[l][i]=u}else e.is_unrestricted.test(i)&&(a=i.match(e.parse_int).slice(1),n.unrestricted=n.unrestricted||{},a.forEach((function(t){t=t.replace(";",""),n.unrestricted[t]=1})));return n}(t):function(t){if(!t)throw new Error("Solver requires a model to operate on");var e="",n={max:"<=",min:">=",equal:"="},r=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(t.opType)for(var i in e+=t.opType+":",t.variables)t.variables[i][i]=t.variables[i][i]?t.variables[i][i]:1,t.variables[i][t.optimize]&&(e+=" "+t.variables[i][t.optimize]+" "+i.replace(r,"_"));else e+="max:";for(var a in e+=";\n\n",t.constraints)for(var o in t.constraints[a])if(void 0!==n[o]){for(var s in t.variables)void 0!==t.variables[s][a]&&(e+=" "+t.variables[s][a]+" "+s.replace(r,"_"));e+=" "+n[o]+" "+t.constraints[a][o],e+=";\n"}if(t.ints)for(var l in e+="\n\n",t.ints)e+="int "+l.replace(r,"_")+";\n";if(t.unrestricted)for(var u in e+="\n\n",t.unrestricted)e+="unrestricted "+u.replace(r,"_")+";\n";return e}(t)};function Ft(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Lt(t){var e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}return 1===t.length&&(e=function(e,n){return t(e)-n},n=function(t){return function(e,n){return Ft(t(e),n)}}(t)),{left:r,center:function(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);var o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}}}function Ut(t){return null===t?NaN:+t}function Ht(t,e){var n,r,i,a,o,s,l;return C.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(void 0!==e){u.next=21;break}n=_(t),u.prev=2,n.s();case 4:if((r=n.n()).done){u.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){u.next=9;break}return u.next=9,i;case 9:u.next=4;break;case 11:u.next=16;break;case 13:u.prev=13,u.t0=u.catch(2),n.e(u.t0);case 16:return u.prev=16,n.f(),u.finish(16);case 19:u.next=40;break;case 21:a=-1,o=_(t),u.prev=23,o.s();case 25:if((s=o.n()).done){u.next=32;break}if(l=s.value,!(null!=(l=e(l,++a,t))&&(l=+l)>=l)){u.next=30;break}return u.next=30,l;case 30:u.next=25;break;case 32:u.next=37;break;case 34:u.prev=34,u.t1=u.catch(23),o.e(u.t1);case 37:return u.prev=37,o.f(),u.finish(37);case 40:case"end":return u.stop()}}),M,null,[[2,13,16,19],[23,34,37,40]])}var Qt=Lt(Ft),Zt=Qt.right,$t=Qt.left,Jt=Lt(Ut).center;function Kt(t,e){var n=0;if(void 0===e){var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(a=+a)>=a&&++n}}catch(c){i.e(c)}finally{i.f()}}else{var o,s=-1,l=_(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;null!=(u=e(u,++s,t))&&(u=+u)>=u&&++n}}catch(c){l.e(c)}finally{l.f()}}return n}function Gt(t){return 0|t.length}function te(t){return!(t>0)}function ee(t){return"object"!==Object(f.a)(t)||"length"in t?t:Array.from(t)}function ne(t){return function(e){return t.apply(void 0,x(e))}}function re(t,e){var n,r=0,i=0,a=0;if(void 0===e){var o,s=_(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=l&&(l=+l)>=l&&(a+=(n=l-i)*(l-(i+=n/++r)))}}catch(d){s.e(d)}finally{s.f()}}else{var u,c=-1,h=_(t);try{for(h.s();!(u=h.n()).done;){var f=u.value;null!=(f=e(f,++c,t))&&(f=+f)>=f&&(a+=(n=f-i)*(f-(i+=n/++r)))}}catch(d){h.e(d)}finally{h.f()}}if(r>1)return a/(r-1)}function ie(t,e){var n=re(t,e);return n?Math.sqrt(n):n}function ae(t,e){var n,r;if(void 0===e){var i,a=_(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}}catch(h){a.e(h)}finally{a.f()}}else{var s,l=-1,u=_(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=(c=e(c,++l,t))&&(void 0===n?c>=c&&(n=r=c):(n>c&&(n=c),r<c&&(r=c)))}}catch(h){u.e(h)}finally{u.f()}}return[n,r]}var oe=function(){function t(){k(this,t),this._partials=new Float64Array(32),this._n=0}return S(t,[{key:"add",value:function(t){for(var e=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=e[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(e[n++]=o),t=a}return e[n]=t,this._n=n+1,this}},{key:"valueOf",value:function(){var t,e,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(t=a,!(n=(e=r[--i])-((a=t+e)-t))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(e=2*n)==(t=a+e)-a&&(a=t)}return a}}]),t}();var se=function(t){v(n,t);var e=O(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe;k(this,n),t=e.call(this),Object.defineProperties(r(t),{_intern:{value:new Map},_key:{value:a}});var o,s=_(i);try{for(s.s();!(o=s.n()).done;){var l=w(o.value,2),u=l[0],c=l[1];t.set(u,c)}}catch(h){s.e(h)}finally{s.f()}return t}return S(n,[{key:"get",value:function(t){return a(i(n.prototype),"get",this).call(this,ue(this,t))}},{key:"has",value:function(t){return a(i(n.prototype),"has",this).call(this,ue(this,t))}},{key:"set",value:function(t,e){return a(i(n.prototype),"set",this).call(this,ce(this,t),e)}},{key:"delete",value:function(t){return a(i(n.prototype),"delete",this).call(this,he(this,t))}}]),n}(b(Map)),le=function(t){v(n,t);var e=O(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe;k(this,n),t=e.call(this),Object.defineProperties(r(t),{_intern:{value:new Map},_key:{value:a}});var o,s=_(i);try{for(s.s();!(o=s.n()).done;){var l=o.value;t.add(l)}}catch(u){s.e(u)}finally{s.f()}return t}return S(n,[{key:"has",value:function(t){return a(i(n.prototype),"has",this).call(this,ue(this,t))}},{key:"add",value:function(t){return a(i(n.prototype),"add",this).call(this,ce(this,t))}},{key:"delete",value:function(t){return a(i(n.prototype),"delete",this).call(this,he(this,t))}}]),n}(b(Set));function ue(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):e}function ce(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)?n.get(r):(n.set(r,e),e)}function he(t,e){var n=t._intern,r=(0,t._key)(e);return n.has(r)&&(e=n.get(e),n.delete(r)),e}function fe(t){return null!==t&&"object"===Object(f.a)(t)?t.valueOf():t}function de(t){return t}function ve(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return me(t,de,de,n)}function pe(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return me(t,de,e,r)}function ye(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function me(t,e,n,r){return function t(i,a){if(a>=r.length)return n(i);var o,s=new se,l=r[a++],u=-1,c=_(i);try{for(c.s();!(o=c.n()).done;){var h=o.value,f=l(h,++u,i),d=s.get(f);d?d.push(h):s.set(f,[h])}}catch(g){c.e(g)}finally{c.f()}var v,p=_(s);try{for(p.s();!(v=p.n()).done;){var y=w(v.value,2),m=y[0],b=y[1];s.set(m,t(b,a))}}catch(g){p.e(g)}finally{p.f()}return e(s)}(t,0)}function be(t,e){return Array.from(e,(function(e){return t[e]}))}function ge(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);var i=n,a=w(i,1),o=a[0],s=void 0===o?Ft:o;if(1===s.length||n.length>1){var l=Uint32Array.from(t,(function(t,e){return e}));return n.length>1?(n=n.map((function(e){return t.map(e)})),l.sort((function(t,e){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=Ft(a[t],a[e]);if(o)return o}}catch(s){i.e(s)}finally{i.f()}}))):(s=t.map(s),l.sort((function(t,e){return Ft(s[t],s[e])}))),be(t,l)}return t.sort(s)}var we=Array.prototype.slice;function xe(t){return function(){return t}}var Ie=Math.sqrt(50),Ce=Math.sqrt(10),ke=Math.sqrt(2);function Pe(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Se(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(o=-o,t=Math.ceil(t*o),e=Math.floor(e*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)/o;return r&&a.reverse(),a}function Se(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Ie?10:a>=Ce?5:a>=ke?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Ie?10:a>=Ce?5:a>=ke?2:1)}function Me(t,e,n){for(var r;;){var i=Se(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}function Te(t){return Math.ceil(Math.log(Kt(t))/Math.LN2)+1}function Oe(){var t=de,e=ae,n=Te;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=t(r[i],i,r);var l=e(s),u=l[0],c=l[1],h=n(s,u,c);if(!Array.isArray(h)){var f=c,d=+h;if(e===ae){var v=w(Me(u,c,d),2);u=v[0],c=v[1]}if((h=Pe(u,c,d))[h.length-1]>=c)if(f>=c&&e===ae){var p=Se(u,c,d);isFinite(p)&&(p>0?c=(Math.floor(c/p)+1)*p:p<0&&(c=(Math.ceil(c*-p)+1)/-p))}else h.pop()}for(var y=h.length;h[0]<=u;)h.shift(),--y;for(;h[y-1]>c;)h.pop(),--y;var m,b=new Array(y+1);for(i=0;i<=y;++i)(m=b[i]=[]).x0=i>0?h[i-1]:u,m.x1=i<y?h[i]:c;for(i=0;i<o;++i)u<=(a=s[i])&&a<=c&&b[Zt(h,a,0,y)].push(r[i]);return b}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:xe(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:xe([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?xe(we.call(t)):xe(t),r):n},r}function _e(t,e){var n;if(void 0===e){var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,s=-1,l=_(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;null!=(u=e(u,++s,t))&&(n<u||void 0===n&&u>=u)&&(n=u)}}catch(c){l.e(c)}finally{l.f()}}return n}function Ee(t,e){var n;if(void 0===e){var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,s=-1,l=_(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;null!=(u=e(u,++s,t))&&(n>u||void 0===n&&u>=u)&&(n=u)}}catch(c){l.e(c)}finally{l.f()}}return n}function Be(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length-1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ft;r>n;){if(r-n>600){var a=r-n+1,o=e-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1),c=Math.max(n,Math.floor(e-o*l/a+u)),h=Math.min(r,Math.floor(e+(a-o)*l/a+u));Be(t,e,c,h,i)}var f=t[e],d=n,v=r;for(Ve(t,n,e),i(t[r],f)>0&&Ve(t,n,r);d<v;){for(Ve(t,d,v),++d,--v;i(t[d],f)<0;)++d;for(;i(t[v],f)>0;)--v}0===i(t[n],f)?Ve(t,n,v):Ve(t,++v,r),v<=e&&(n=v+1),e<=v&&(r=v-1)}return t}function Ve(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function je(t,e,n){if(r=(t=Float64Array.from(Ht(t,n))).length){if((e=+e)<=0||r<2)return Ee(t);if(e>=1)return _e(t);var r,i=(r-1)*e,a=Math.floor(i),o=_e(Be(t,a).subarray(0,a+1));return o+(Ee(t.subarray(a+1))-o)*(i-a)}}function Ae(t,e){var n,r=-1,i=-1;if(void 0===e){var a,o=_(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;++i,null!=s&&(n<s||void 0===n&&s>=s)&&(n=s,r=i)}}catch(h){o.e(h)}finally{o.f()}}else{var l,u=_(t);try{for(u.s();!(l=u.n()).done;){var c=l.value;null!=(c=e(c,++i,t))&&(n<c||void 0===n&&c>=c)&&(n=c,r=i)}}catch(h){u.e(h)}finally{u.f()}}return r}function ze(t,e){return je(t,.5,e)}function Re(t){var e,n,r;return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e=_(t),i.prev=1,e.s();case 3:if((n=e.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),e.e(i.t1);case 13:return i.prev=13,e.f(),i.finish(13);case 16:case"end":return i.stop()}}),T,null,[[1,10,13,16]])}function Ye(t,e){var n,r=-1,i=-1;if(void 0===e){var a,o=_(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;++i,null!=s&&(n>s||void 0===n&&s>=s)&&(n=s,r=i)}}catch(h){o.e(h)}finally{o.f()}}else{var l,u=_(t);try{for(u.s();!(l=u.n()).done;){var c=l.value;null!=(c=e(c,++i,t))&&(n>c||void 0===n&&c>=c)&&(n=c,r=i)}}catch(h){u.e(h)}finally{u.f()}}return r}function Ne(t,e){return[t,e]}function Xe(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;if(1===n.length)return Ye(t,n);var r,i=-1,a=-1,o=_(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;++a,(i<0?0===n(s,s):n(s,e)<0)&&(e=s,i=a)}}catch(l){o.e(l)}finally{o.f()}return i}var De=We(Math.random);function We(t){return function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=r-(n=+n);i;){var a=t()*i--|0,o=e[i+n];e[i+n]=e[a+n],e[a+n]=o}return e}}function qe(t){if(!(i=t.length))return[];for(var e=-1,n=Ee(t,Fe),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r}function Fe(t){return t.length}function Le(t){return t instanceof Set?t:new Set(t)}function Ue(t,e){var n,r=t[Symbol.iterator](),i=new Set,a=_(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(!i.has(o))for(var s=void 0,l=void 0;s=(u=r.next()).value,l=u.done,u;){var u;if(l)return!1;if(i.add(s),Object.is(o,s))break}}}catch(c){a.e(c)}finally{a.f()}return!0}function He(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var Qe=He(Object.freeze({__proto__:null,bisect:Zt,bisectRight:Zt,bisectLeft:$t,bisectCenter:Jt,ascending:Ft,bisector:Lt,count:Kt,cross:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="function"==typeof e[e.length-1]&&ne(e.pop()),i=(e=e.map(ee)).map(Gt),a=e.length-1,o=new Array(a+1).fill(0),s=[];if(a<0||i.some(te))return s;for(;;){s.push(o.map((function(t,n){return e[n][t]})));for(var l=a;++o[l]===i[l];){if(0===l)return r?s.map(r):s;o[l--]=0}}},cumsum:function(t,e){var n=0,r=0;return Float64Array.from(t,void 0===e?function(t){return n+=+t||0}:function(i){return n+=+e(i,r++,t)||0})},descending:function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},deviation:ie,extent:ae,fsum:function(t,e){var n=new oe;if(void 0===e){var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&n.add(a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,s=-1,l=_(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;(u=+e(u,++s,t))&&n.add(u)}}catch(c){l.e(c)}finally{l.f()}}return+n},Adder:oe,group:ve,groups:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return me(t,Array.from,de,n)},index:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return me(t,de,ye,n)},indexes:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return me(t,Array.from,ye,n)},rollup:pe,rollups:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return me(t,Array.from,e,r)},groupSort:function(t,e,n){return(1===e.length?ge(pe(t,e,n),(function(t,e){var n=w(t,2),r=n[0],i=n[1],a=w(e,2),o=a[0];return Ft(i,a[1])||Ft(r,o)})):ge(ve(t,n),(function(t,n){var r=w(t,2),i=r[0],a=r[1],o=w(n,2),s=o[0],l=o[1];return e(a,l)||Ft(i,s)}))).map((function(t){return w(t,1)[0]}))},bin:Oe,histogram:Oe,thresholdFreedmanDiaconis:function(t,e,n){return Math.ceil((n-e)/(2*(je(t,.75)-je(t,.25))*Math.pow(Kt(t),-1/3)))},thresholdScott:function(t,e,n){return Math.ceil((n-e)/(3.5*ie(t)*Math.pow(Kt(t),-1/3)))},thresholdSturges:Te,max:_e,maxIndex:Ae,mean:function(t,e){var n=0,r=0;if(void 0===e){var i,a=_(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(h){a.e(h)}finally{a.f()}}else{var s,l=-1,u=_(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=(c=e(c,++l,t))&&(c=+c)>=c&&(++n,r+=c)}}catch(h){u.e(h)}finally{u.f()}}if(n)return r/n},median:ze,merge:function(t){return Array.from(Re(t))},min:Ee,minIndex:Ye,nice:Me,pairs:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne,i=[],a=!1,o=_(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;a&&i.push(r(e,s)),e=s,a=!0}}catch(l){o.e(l)}finally{o.f()}return i},permute:be,quantile:je,quantileSorted:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut;if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}},quickselect:Be,range:function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a},least:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft,r=!1;if(1===n.length){var i,a,o=_(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=n(s);(r?Ft(l,i)<0:0===Ft(l,l))&&(e=s,i=l,r=!0)}}catch(f){o.e(f)}finally{o.f()}}else{var u,c=_(t);try{for(c.s();!(u=c.n()).done;){var h=u.value;(r?n(h,e)<0:0===n(h,h))&&(e=h,r=!0)}}catch(f){c.e(f)}finally{c.f()}}return e},leastIndex:Xe,greatest:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft,r=!1;if(1===n.length){var i,a,o=_(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=n(s);(r?Ft(l,i)>0:0===Ft(l,l))&&(e=s,i=l,r=!0)}}catch(f){o.e(f)}finally{o.f()}}else{var u,c=_(t);try{for(c.s();!(u=c.n()).done;){var h=u.value;(r?n(h,e)>0:0===n(h,h))&&(e=h,r=!0)}}catch(f){c.e(f)}finally{c.f()}}return e},greatestIndex:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;if(1===n.length)return Ae(t,n);var r,i=-1,a=-1,o=_(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;++a,(i<0?0===n(s,s):n(s,e)>0)&&(e=s,i=a)}}catch(l){o.e(l)}finally{o.f()}return i},scan:function(t,e){var n=Xe(t,e);return n<0?void 0:n},shuffle:De,shuffler:We,sum:function(t,e){var n=0;if(void 0===e){var r,i=_(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,s=-1,l=_(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;(u=+e(u,++s,t))&&(n+=u)}}catch(c){l.e(c)}finally{l.f()}}return n},ticks:Pe,tickIncrement:Se,tickStep:function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Ie?i*=10:a>=Ce?i*=5:a>=ke&&(i*=2),e<t?-i:i},transpose:qe,variance:re,zip:function(){return qe(arguments)},every:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");var n,r=-1,i=_(t);try{for(i.s();!(n=i.n()).done;){if(!e(n.value,++r,t))return!1}}catch(a){i.e(a)}finally{i.f()}return!0},some:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");var n,r=-1,i=_(t);try{for(i.s();!(n=i.n()).done;){if(e(n.value,++r,t))return!0}}catch(a){i.e(a)}finally{i.f()}return!1},filter:function(t,e){if("function"!=typeof e)throw new TypeError("test is not a function");var n,r=[],i=-1,a=_(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;e(o,++i,t)&&r.push(o)}}catch(s){a.e(s)}finally{a.f()}return r},map:function(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,(function(n,r){return e(n,r,t)}))},reduce:function(t,e,n){if("function"!=typeof e)throw new TypeError("reducer is not a function");var r,i,a=t[Symbol.iterator](),o=-1;if(arguments.length<3){var s=a.next();if(r=s.done,n=s.value,r)return;++o}for(;r=(l=a.next()).done,i=l.value,!r;){var l;n=e(n,i,++o,t)}return n},reverse:function(t){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(t).reverse()},sort:ge,difference:function(t){t=new Set(t);for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,s=a[i],l=_(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;t.delete(u)}}catch(c){l.e(c)}finally{l.f()}}return t},disjoint:function(t,e){var n,r=e[Symbol.iterator](),i=new Set,a=_(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(i.has(o))return!1;for(var s=void 0,l=void 0;s=(u=r.next()).value,l=u.done,u;){var u;if(l)break;if(Object.is(o,s))return!1;i.add(s)}}}catch(c){a.e(c)}finally{a.f()}return!0},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t=new Set(t),n=n.map(Le);var i,a=_(t);try{t:for(a.s();!(i=a.n()).done;){var o,s=i.value,l=_(n);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(!u.has(s)){t.delete(s);continue t}}}catch(c){l.e(c)}finally{l.f()}}}catch(c){a.e(c)}finally{a.f()}return t},subset:function(t,e){return Ue(e,t)},superset:Ue,union:function(){for(var t=new Set,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,s=a[i],l=_(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;t.add(u)}}catch(c){l.e(c)}finally{l.f()}}return t},InternMap:se,InternSet:le}));function Ze(t){return t=(t=(t=t.replace("\\r\\n","\r\n")).split("\r\n")).filter((function(t){return!0!==new RegExp(" 0$","gi").test(t)&&!1!==new RegExp("\\d$","gi").test(t)})).map((function(t){return t.split(/\:{0,1} +(?=\d)/)})).reduce((function(t,e,n){return t[e[0]]=e[1],t}),{})}var $e={lpsolve:{reformat:qt,solve:function(t){return new Promise((function(e,n){"undefined"!=typeof window&&n("Function Not Available in Browser");var r=qt(t);t.external||n("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),t.external.binPath||n("No Executable | Binary path provided in arguments as 'binPath'"),t.external.args||n("No arguments array for cli | bash provided on 'args' attribute"),t.external.tempName||n("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),Qe.writeFile(t.external.tempName,r,(function(r,i){if(r)n(r);else{var a=Qe.execFile;t.external.args.push(t.external.tempName),a(t.external.binPath,t.external.args,(function(t,r){if(t)if(1===t.code)e(Ze(r));else{var i={code:t.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[t.code],data:r};n(i)}else e(Ze(r))}))}}))}))}}},Je=function(t,e){var n,r,i,a,o,s=e.optimize,l=JSON.parse(JSON.stringify(e.optimize)),u=Object.keys(e.optimize),c=0,h={},f="",d={},v=[];for(delete e.optimize,r=0;r<u.length;r++)l[u[r]]=0;for(r=0;r<u.length;r++){for(o in e.optimize=u[r],e.opType=s[u[r]],n=t.Solve(e,void 0,void 0,!0),u)if(!e.variables[u[o]])for(a in n[u[o]]=n[u[o]]?n[u[o]]:0,e.variables)e.variables[a][u[o]]&&n[a]&&(n[u[o]]+=n[a]*e.variables[a][u[o]]);for(f="base",i=0;i<u.length;i++)n[u[i]]?f+="-"+(1e3*n[u[i]]|0)/1e3:f+="-0";if(!h[f]){for(h[f]=1,c++,i=0;i<u.length;i++)n[u[i]]&&(l[u[i]]+=n[u[i]]);delete n.feasible,delete n.result,v.push(n)}}for(r=0;r<u.length;r++)e.constraints[u[r]]={equal:l[u[r]]/c};for(r in e.optimize="cheater-"+Math.random(),e.opType="max",e.variables)e.variables[r].cheater=1;for(r in v)for(a in v[r])d[a]=d[a]||{min:1e99,max:-1e99};for(r in d)for(a in v)v[a][r]?(v[a][r]>d[r].max&&(d[r].max=v[a][r]),v[a][r]<d[r].min&&(d[r].min=v[a][r])):(v[a][r]=0,d[r].min=0);return{midpoint:n=t.Solve(e,void 0,void 0,!0),vertices:v,ranges:d}},Ke=Tt.Constraint,Ge=Tt.Variable,tn=Tt.Numeral,en=Tt.Term,nn=function(){this.Model=Dt,this.branchAndCut=At,this.Constraint=Ke,this.Variable=Ge,this.Numeral=tn,this.Term=en,this.Tableau=Et,this.lastSolvedModel=null,this.External=$e,this.Solve=function(t,e,n,r){if(r)for(var i in Wt)t=Wt[i](t);if(!t)throw new Error("Solver requires a model to operate on");if("object"===Object(f.a)(t.optimize)&&Object.keys(t.optimize>1))return Je(this,t);if(t.external){var a=Object.keys($e);if(a=JSON.stringify(a),!t.external.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+a);if(!$e[t.external.solver])throw new Error("No support (yet) for "+t.external.solver+". Please use one of these instead:"+a);return $e[t.external.solver].solve(t)}t instanceof Dt==!1&&(t=new Dt(e).loadJson(t));var o=t.solve();if(this.lastSolvedModel=t,o.solutionSet=o.generateSolutionSet(),n)return o;var s={};return s.feasible=o.feasible,s.result=o.evaluation,s.bounded=o.bounded,o._tableau.__isIntegral&&(s.isIntegral=!0),Object.keys(o.solutionSet).forEach((function(t){0!==o.solutionSet[t]&&(s[t]=o.solutionSet[t])})),s},this.ReformatLP=qt,this.MultiObjective=function(t){return Je(this,t)}};"object"===("undefined"==typeof window?"undefined":Object(f.a)(window))?window.solver=new nn:"object"===("undefined"==typeof self?"undefined":Object(f.a)(self))&&(self.solver=new nn);var rn=new nn;function an(t){var e=t.debug?"":"\0",n=t.debug?"rank: ":"\0",r=t.debug?" -> ":"\0";function i(t){return"".concat(e).concat(t.id)}function a(t){return"".concat(t.source.id).concat(r).concat(t.target.id)}function o(t,e){return"".concat(n).concat(t.id).concat(r).concat(e.id)}function s(e){var n,r=Object.create(null),s=Object.create(null),l=Object.create(null),u=[],c=_(e);try{for(c.s();!(n=c.n()).done;){var f=n.value,d=i(f);s[d]=1,r[d]={opt:f.children.length};var v=t.rank(f);void 0!==v&&u.push([v,f])}}catch(F){c.e(F)}finally{c.f()}var p,y=_(e.ilinks());try{for(y.s();!(p=y.n()).done;){var m=p.value,b=r[i(m.source)],g=r[i(m.target)],x=a(m);l[x]={min:1},b[x]=-1,b.opt++,g[x]=1,g.opt--}}catch(F){y.e(F)}finally{y.f()}var I,C=h(u.sort((function(t,e){return w(t,1)[0]-w(e,1)[0]}))),k=C[0],P=_(C.slice(1));try{for(P.s();!(I=P.n()).done;){var S=I.value,M=w(k,2),T=M[0],O=M[1],E=w(S,2),B=E[0],V=E[1],j=r[i(O)],A=r[i(V)],z=o(O,V);if(T<B)l[z]={min:1},j[z]=-1,A[z]=1;else{var R=o(V,O);l[z]={min:0},l[R]={min:0},j[z]=-1,j[R]=1,A[z]=1,A[R]=-1}k=S}}catch(F){P.e(F)}finally{P.f()}var Y=rn.Solve({optimize:"opt",opType:"max",constraints:l,variables:r,ints:s}),N=Y.feasible,X=Q(Y,["feasible"]);if(!N)throw u.length?new Error("could not find a feasbile simplex layout, check that rank accessors are not ill-defined"):new Error("could not find feasbile simplex layout, this should not happen");var D,W=_(e);try{for(W.s();!(D=W.n()).done;){var q=D.value;q.layer=X[i(q)]||0}}catch(F){W.e(F)}finally{W.f()}}return s.rank=function(e){if(void 0===e)return t.rank;var n=Q(t,["rank"]);return an(Object.assign(Object.assign({},n),{rank:e}))},s.debug=function(e){return void 0===e?t.debug:an(Object.assign(Object.assign({},t),{debug:e}))},s}function on(){}function sn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length)throw new Error("got arguments to simplex(".concat(e,"), but constructor takes no aruguments."));return an({rank:on,debug:!1})}function ln(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length)throw new Error("got arguments to median(".concat(e,"), but constructor takes no aruguments."));function r(t,e){var n,r=new z,i=_(t.entries());try{for(i.s();!(n=i.n()).done;){var a,o=w(n.value,2),s=o[0],l=_(o[1].ichildren());try{for(l.s();!(a=l.n()).done;){var u=a.value;r.setIfAbsent(u.id,[]).push(s)}}catch(y){l.e(y)}finally{l.f()}}}catch(y){i.e(y)}finally{i.f()}var c,h=new z,f=-1,d=_(e);try{for(d.s();!(c=d.n()).done;){var v=c.value,p=ze(r.getDefault(v.id,[]));void 0===p?(h.set(v.id,f),f=+!((f+1)/(t.length+1))*(t.length+1)-1):h.set(v.id,p)}}catch(y){d.e(y)}finally{d.f()}e.sort((function(t,e){return h.getThrow(t.id)-h.getThrow(e.id)}))}return r}function un(t){function e(e){e.slice(0,e.length-1).forEach((function(n,r){return t.order(n,e[r+1])}))}return e.order=function(e){if(void 0===e)return t.order;var n=e,r=Q(t,["order"]);return un(Object.assign(Object.assign({},r),{order:n}))},e}function cn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length)throw new Error("got arguments to twoLayer(".concat(e,"), but constructor takes no aruguments."));return un({order:ln()})}function hn(t){function e(e){t.layering(e);var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.layer;if(void 0===a)throw new Error("layering did not assign layer to node '".concat(i.id,"'"));if(a<0)throw new Error("layering assigned a negative layer (".concat(a,") to node '").concat(i.id,"'"))}}catch(j){r.e(j)}finally{r.f()}var o,s=function(e){var n,r=[],i=_(e.descendants());try{var a=function(){var e=n.value,i=e.layer;(r[i]||(r[i]=[])).push(e),e.dataChildren=e.dataChildren.map((function(n){var a=n.child.layer;if(a<=i)throw new Error('layering left child node "'.concat(n.child.id,'" (').concat(a,") ")+'with a greater or equal layer to parent node "'.concat(e.id,'" (').concat(i,")"));for(var o=n.child,s=a-1;s>i;s--){var l=void 0;l=t.debug?"".concat(e.id,"->").concat(n.child.id," (").concat(s,")"):"".concat(e.id,"\0").concat(n.child.id,"\0").concat(s);var u=new ct(l);u.dataChildren.push(new R(o,void 0)),(r[s]||(r[s]=[])).push(u),o=u}return new R(o,n.data)}))};for(i.s();!(n=i.n()).done;)a()}catch(j){i.e(j)}finally{i.f()}return r}(e),l=function(t){var e=new Map;return function(n){var r=e.get(n.id);if(void 0===r){var i=w(r=t(n),2),a=i[0],o=i[1];if(a<0||o<0)throw new Error("all node sizes must be non-negative, but got width ".concat(a," and height ").concat(o," for node id: ").concat(n.id));e.set(n.id,r)}return r}}(t.nodeSize),u=0,c=_(s);try{for(c.s();!(o=c.n()).done;){var h,f=o.value,d=Math.max.apply(Math,x(f.map((function(t){return l(t)[1]})))),v=_(f);try{for(v.s();!(h=v.n()).done;){h.value.y=u+d/2}}catch(j){v.e(j)}finally{v.f()}u+=d}}catch(j){c.e(j)}finally{c.f()}if(u<=0)throw new Error("at least one node must have positive height, but total height was zero");t.decross(s);var p,y=t.coord(s,l),m=_(s);try{for(m.s();!(p=m.n()).done;){var b,g=_(p.value);try{for(g.s();!(b=g.n()).done;){var I=b.value;if(void 0===I.x)throw new Error("coord didn't assign an x to node '".concat(I.id,"'"));if(I.x<0||I.x>y)throw new Error("coord assgined an x (".concat(I.x,") outside of [0, ").concat(y,"]"))}}catch(j){g.e(j)}finally{g.f()}}}catch(j){m.e(j)}finally{m.f()}var C=s;if(null!==t.size){var k,P=w(t.size,2),S=P[0],M=P[1],T=_(C);try{for(T.s();!(k=T.n()).done;){var O,E=_(k.value);try{for(E.s();!(O=E.n()).done;){var B=O.value;B.x*=S/y,B.y*=M/u}}catch(j){E.e(j)}finally{E.f()}}}catch(j){T.e(j)}finally{T.f()}y=S,u=M}var V=e;return function(t){var e,n=_(t);try{var r=function(){var t=e.value;t instanceof ct||(t.dataChildren=t.dataChildren.map((function(e){for(var n=e.child,r=[{x:t.x,y:t.y}];n instanceof ct;){r.push({x:n.x,y:n.y});var i=n.ichildren();n=w(i,1)[0]}return r.push({x:n.x,y:n.y}),new R(n,e.data,r)})))};for(n.s();!(e=n.n()).done;)r()}catch(j){n.e(j)}finally{n.f()}}(V),{dag:V,width:y,height:u}}return e.layering=function(e){if(void 0===e)return t.layering;var n=Q(t,["layering"]);return hn(Object.assign(Object.assign({},n),{layering:e}))},e.decross=function(e){if(void 0===e)return t.decross;var n=Q(t,["decross"]);return hn(Object.assign(Object.assign({},n),{decross:e}))},e.coord=function(e){if(void 0===e)return t.coord;var n=Q(t,["coord"]);return hn(Object.assign(Object.assign({},n),{coord:e}))},e.size=function(e){return void 0!==e?hn(Object.assign(Object.assign({},t),{size:e})):t.size},e.nodeSize=function(e){if(void 0!==e){var n=Q(t,["nodeSize"]);return hn(Object.assign(Object.assign({},n),{nodeSize:e}))}return t.nodeSize},e.debug=function(e){return void 0===e?t.debug:hn(Object.assign(Object.assign({},t),{debug:e}))},e}function fn(t){var e=+!(t instanceof ct);return[e,e]}function dn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length)throw new Error("got arguments to sugiyama(".concat(e,"), but constructor takes no aruguments."));return hn({layering:sn(),decross:cn(),coord:ft(),size:null,nodeSize:fn,debug:!1})}var vn=function(t,e){return t<e};function pn(t){if(!(this instanceof pn))return new pn(t);this.array=[],this.size=0,this.compare=t||vn}pn.prototype.clone=function(){var t=new pn(this.compare);t.size=this.size;for(var e=0;e<this.size;e++)t.array.push(this.array[e]);return t},pn.prototype.add=function(t){var e,n,r=this.size;for(this.array[this.size]=t,this.size+=1;r>0&&(e=r-1>>1,n=this.array[e],this.compare(t,n));)this.array[r]=n,r=e;this.array[r]=t},pn.prototype.heapify=function(t){var e;for(this.array=t,this.size=t.length,e=this.size>>1;e>=0;e--)this._percolateDown(e)},pn.prototype._percolateUp=function(t,e){for(var n,r,i=this.array[t];t>0&&(n=t-1>>1,r=this.array[n],e||this.compare(i,r));)this.array[t]=r,t=n;this.array[t]=i},pn.prototype._percolateDown=function(t){for(var e,n,r,i=this.size,a=this.size>>>1,o=this.array[t];t<a&&(n=(e=1+(t<<1))+1,r=this.array[e],n<i&&this.compare(this.array[n],r)&&(e=n,r=this.array[n]),this.compare(r,o));)this.array[t]=r,t=e;this.array[t]=o},pn.prototype._removeAt=function(t){if(!(t>this.size-1||t<0))return this._percolateUp(t,!0),this.poll()},pn.prototype.remove=function(t){for(var e=0;e<this.size;e++)if(!this.compare(this.array[e],t)&&!this.compare(t,this.array[e]))return this._removeAt(e),!0;return!1},pn.prototype._batchRemove=function(t,e){var n=new Array(e||this.size),r=0;if("function"==typeof t&&this.size)for(var i=0;i<this.size&&r<n.length;)t(this.array[i])?(n[r]=this._removeAt(i),r++,i>>=1):i++;return n.length=r,n},pn.prototype.removeOne=function(t){var e=this._batchRemove(t,1);return e.length>0?e[0]:void 0},pn.prototype.removeMany=function(t,e){return this._batchRemove(t,e)},pn.prototype.peek=function(){if(0!=this.size)return this.array[0]},pn.prototype.poll=function(){if(0!=this.size){var t=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,t}},pn.prototype.replaceTop=function(t){if(0!=this.size){var e=this.array[0];return this.array[0]=t,this._percolateDown(0),e}},pn.prototype.trim=function(){this.array=this.array.slice(0,this.size)},pn.prototype.isEmpty=function(){return 0===this.size},pn.prototype.forEach=function(t){if(!this.isEmpty()&&"function"==typeof t)for(var e=0,n=this.clone();!n.isEmpty();)t(n.poll(),e++)},pn.prototype.kSmallest=function(t){if(0==this.size)return[];var e=this.compare,n=this.array,r=new pn((function(t,r){return e(n[t],n[r])}));t=Math.min(this.size,t);var i=new Array(t),a=0;for(r.add(0);a<t;){var o=r.poll();i[a++]=this.array[o];var s=1+(o<<1),l=s+1;s<this.size&&r.add(s),l<this.size&&r.add(l)}return i}},158:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var r=Math.PI,i=2*r,a=i-1e-6;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,i,a){t=+t,e=+e,n=+n,i=+i,a=+a;var o=this._x1,s=this._y1,l=n-t,u=i-e,c=o-t,h=s-e,f=c*c+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*l-u*c)>1e-6&&a){var d=n-o,v=i-s,p=l*l+u*u,y=d*d+v*v,m=Math.sqrt(p),b=Math.sqrt(f),g=a*Math.tan((r-Math.acos((p+f-y)/(2*m*b)))/2),w=g/b,x=g/m;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*c)+","+(e+w*h)),this._+="A"+a+","+a+",0,0,"+ +(h*d>c*v)+","+(this._x1=t+x*l)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,s,l){t=+t,e=+e,l=!!l;var u=(n=+n)*Math.cos(o),c=n*Math.sin(o),h=t+u,f=e+c,d=1^l,v=l?o-s:s-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(v<0&&(v=v%i+i),v>a?this._+="A"+n+","+n+",0,1,"+d+","+(t-u)+","+(e-c)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):v>1e-6&&(this._+="A"+n+","+n+",0,"+ +(v>=r)+","+d+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var l=s,u=(n(21),Array.prototype.slice),c=function(t){return function(){return t}};function h(t){return t[0]}function f(t){return t[1]}function d(t){return t.source}function v(t){return t.target}function p(t){var e=d,n=v,r=h,i=f,a=null;function o(){var o,s=u.call(arguments),c=e.apply(this,s),h=n.apply(this,s);if(a||(a=o=l()),t(a,+r.apply(this,(s[0]=c,s)),+i.apply(this,s),+r.apply(this,(s[0]=h,s)),+i.apply(this,s)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:c(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:c(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function y(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function m(){return p(y)}}}]);